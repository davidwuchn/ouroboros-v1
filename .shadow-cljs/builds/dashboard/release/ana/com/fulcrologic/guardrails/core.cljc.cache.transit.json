["^ ","~:output",["^ ","~:js","goog.provide('com.fulcrologic.guardrails.core');\ngoog.scope(function(){\n  com.fulcrologic.guardrails.core.goog$module$goog$object = goog.module.get('goog.object');\n});\ncom.fulcrologic.guardrails.core._EQ__GT_ = new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814);\ncom.fulcrologic.guardrails.core._BAR_ = new cljs.core.Keyword(null,\"st\",\"st\",1455255828);\ncom.fulcrologic.guardrails.core._LT__ = new cljs.core.Keyword(null,\"gen\",\"gen\",142575302);\ncom.fulcrologic.guardrails.core._BANG_global_context = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.List.EMPTY);\n/**\n * Push a global context, accessible from all threads, onto a stack. Used to add\n *   information to what guardrails will report when a function failed a check.\n */\ncom.fulcrologic.guardrails.core.enter_global_context_BANG_ = (function com$fulcrologic$guardrails$core$enter_global_context_BANG_(ctx){\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(com.fulcrologic.guardrails.core._BANG_global_context,cljs.core.partial.cljs$core$IFn$_invoke$arity$2(cljs.core.cons,ctx));\n});\n/**\n * Pops a global context (see `enter-global-context!`). Should be passed the\n *   same context that was pushed, although is not enforced, as it's only to be\n *   easily compatible with fulcro-spec's hooks API.\n */\ncom.fulcrologic.guardrails.core.leave_global_context_BANG_ = (function com$fulcrologic$guardrails$core$leave_global_context_BANG_(ctx){\nreturn cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2(com.fulcrologic.guardrails.core._BANG_global_context,cljs.core.rest);\n});\ncom.fulcrologic.guardrails.core.get_global_context = (function com$fulcrologic$guardrails$core$get_global_context(){\nreturn cljs.core.first(cljs.core.deref(com.fulcrologic.guardrails.core._BANG_global_context));\n});\ncom.fulcrologic.guardrails.core.output_fn = (function com$fulcrologic$guardrails$core$output_fn(data){\nvar map__35470 = data;\nvar map__35470__$1 = cljs.core.__destructure_map(map__35470);\nvar level = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"level\",\"level\",1290497552));\nvar _QMARK_err = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"?err\",\"?err\",549653299));\nvar msg_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"msg_\",\"msg_\",-1925147000));\nvar _QMARK_ns_str = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"?ns-str\",\"?ns-str\",2012733966));\nvar _QMARK_file = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"?file\",\"?file\",1533429675));\nvar hostname_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"hostname_\",\"hostname_\",-2091647379));\nvar timestamp_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"timestamp_\",\"timestamp_\",-954533417));\nvar _QMARK_line = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35470__$1,new cljs.core.Keyword(null,\"?line\",\"?line\",-631853385));\nreturn (\"\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(clojure.string.upper_case(cljs.core.name(level)))+\" \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.force(msg_))+cljs.core.str.cljs$core$IFn$_invoke$arity$1((function (){var temp__5825__auto__ = _QMARK_err;\nif(cljs.core.truth_(temp__5825__auto__)){\nvar err = temp__5825__auto__;\nreturn (\"\"+\"\\n\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(com.fulcrologic.guardrails.utils.stacktrace.cljs$core$IFn$_invoke$arity$1(err)));\n} else {\nreturn null;\n}\n})()));\n});\ncom.fulcrologic.guardrails.core.now_ms = (function com$fulcrologic$guardrails$core$now_ms(){\nreturn cljs.core.inst_ms((new Date()));\n});\ncom.fulcrologic.guardrails.core.tap = (((typeof cljs !== 'undefined') && (typeof cljs.core !== 'undefined') && (typeof cljs.core.tap_GT_ !== 'undefined'))?(new cljs.core.Var((function (){\nreturn cljs.core.tap_GT_;\n}),cljs.core.with_meta(new cljs.core.Symbol(\"cljs.core\",\"tap>\",\"cljs.core/tap>\",895722640,null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(\"cljs.analyzer\",\"no-resolve\",\"cljs.analyzer/no-resolve\",-1872351017),true], null)),cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,\"ns\",\"ns\",441598760),new cljs.core.Keyword(null,\"name\",\"name\",1843675177),new cljs.core.Keyword(null,\"file\",\"file\",-1269645878),new cljs.core.Keyword(null,\"end-column\",\"end-column\",1425389514),new cljs.core.Keyword(null,\"column\",\"column\",2078222095),new cljs.core.Keyword(null,\"line\",\"line\",212345235),new cljs.core.Keyword(null,\"end-line\",\"end-line\",1837326455),new cljs.core.Keyword(null,\"tag\",\"tag\",-1290361223),new cljs.core.Keyword(null,\"arglists\",\"arglists\",1661989754),new cljs.core.Keyword(null,\"doc\",\"doc\",1913296891),new cljs.core.Keyword(null,\"test\",\"test\",577538877)],[new cljs.core.Symbol(null,\"cljs.core\",\"cljs.core\",770546058,null),new cljs.core.Symbol(null,\"tap>\",\"tap>\",1822490677,null),\"cljs/core.cljs\",20,1,12056,12056,new cljs.core.Symbol(null,\"boolean\",\"boolean\",-278886877,null),cljs.core.list(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,\"x\",\"x\",-555367584,null)], null)),\"Sends x to any taps. Returns the result of *exec-tap-fn*, a Boolean value.\",((cljs.core.tap_GT_)?cljs.core.tap_GT_.cljs$lang$test:null)]))):null);\ncom.fulcrologic.guardrails.core.humanize_spec = (function com$fulcrologic$guardrails$core$humanize_spec(explain_data,p__35479){\nvar map__35480 = p__35479;\nvar map__35480__$1 = cljs.core.__destructure_map(map__35480);\nvar expound_options = map__35480__$1;\nvar compact_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35480__$1,new cljs.core.Keyword(\"guardrails\",\"compact?\",\"guardrails/compact?\",-1855665962));\nvar args_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35480__$1,new cljs.core.Keyword(\"guardrails\",\"args?\",\"guardrails/args?\",-768537344));\nvar fqnm = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35480__$1,new cljs.core.Keyword(\"guardrails\",\"fqnm\",\"guardrails/fqnm\",1331545691));\nif(cljs.core.truth_(compact_QMARK_)){\nvar lines = cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [(cljs.core.truth_(args_QMARK_)?(\"\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(fqnm)+\"'s arguments:\"):(\"\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(fqnm)+\"'s return:\"))], null),cljs.core.remove.cljs$core$IFn$_invoke$arity$2((function (l){\nvar or__5142__auto__ = clojure.string.includes_QMARK_(l,\"------\");\nif(or__5142__auto__){\nreturn or__5142__auto__;\n} else {\nvar or__5142__auto____$1 = cljs.core.re_matches(/^Detected \\d.*$/,l);\nif(cljs.core.truth_(or__5142__auto____$1)){\nreturn or__5142__auto____$1;\n} else {\nreturn cljs.core.re_matches(/^\\s*$/,l);\n}\n}\n}),clojure.string.split_lines((function (){var sb__5795__auto__ = (new goog.string.StringBuffer());\nvar _STAR_print_newline_STAR__orig_val__35484_35707 = cljs.core._STAR_print_newline_STAR_;\nvar _STAR_print_fn_STAR__orig_val__35485_35708 = cljs.core._STAR_print_fn_STAR_;\nvar _STAR_print_newline_STAR__temp_val__35486_35709 = true;\nvar _STAR_print_fn_STAR__temp_val__35487_35710 = (function (x__5796__auto__){\nreturn sb__5795__auto__.append(x__5796__auto__);\n});\n(cljs.core._STAR_print_newline_STAR_ = _STAR_print_newline_STAR__temp_val__35486_35709);\n\n(cljs.core._STAR_print_fn_STAR_ = _STAR_print_fn_STAR__temp_val__35487_35710);\n\ntry{expound.alpha.custom_printer(expound_options)(explain_data);\n}finally {(cljs.core._STAR_print_fn_STAR_ = _STAR_print_fn_STAR__orig_val__35485_35708);\n\n(cljs.core._STAR_print_newline_STAR_ = _STAR_print_newline_STAR__orig_val__35484_35707);\n}\nreturn (\"\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(sb__5795__auto__));\n})())));\nreturn (\"\"+\"  \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(clojure.string.join.cljs$core$IFn$_invoke$arity$2(\"\\n  \",lines)));\n} else {\nvar sb__5795__auto__ = (new goog.string.StringBuffer());\nvar _STAR_print_newline_STAR__orig_val__35488_35713 = cljs.core._STAR_print_newline_STAR_;\nvar _STAR_print_fn_STAR__orig_val__35489_35714 = cljs.core._STAR_print_fn_STAR_;\nvar _STAR_print_newline_STAR__temp_val__35490_35715 = true;\nvar _STAR_print_fn_STAR__temp_val__35491_35716 = (function (x__5796__auto__){\nreturn sb__5795__auto__.append(x__5796__auto__);\n});\n(cljs.core._STAR_print_newline_STAR_ = _STAR_print_newline_STAR__temp_val__35490_35715);\n\n(cljs.core._STAR_print_fn_STAR_ = _STAR_print_fn_STAR__temp_val__35491_35716);\n\ntry{expound.alpha.custom_printer(expound_options)(explain_data);\n}finally {(cljs.core._STAR_print_fn_STAR_ = _STAR_print_fn_STAR__orig_val__35489_35714);\n\n(cljs.core._STAR_print_newline_STAR_ = _STAR_print_newline_STAR__orig_val__35488_35713);\n}\nreturn (\"\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(sb__5795__auto__));\n}\n});\ncom.fulcrologic.guardrails.core.run_check = (function com$fulcrologic$guardrails$core$run_check(p__35503,spec,value){\nvar map__35504 = p__35503;\nvar map__35504__$1 = cljs.core.__destructure_map(map__35504);\nvar options = map__35504__$1;\nvar use_stderr_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"use-stderr?\",\"guardrails/use-stderr?\",1215531137));\nvar explain_fn = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"explain-fn\",\"guardrails/explain-fn\",334384282));\nvar fqnm = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"fqnm\",\"guardrails/fqnm\",1331545691));\nvar throw_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(null,\"throw?\",\"throw?\",-2036749118));\nvar humanize_opts = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(null,\"humanize-opts\",\"humanize-opts\",246669923));\nvar args_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(null,\"args?\",\"args?\",-1963723548));\nvar malli_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"malli?\",\"guardrails/malli?\",322930348));\nvar fn_name = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(null,\"fn-name\",\"fn-name\",-766594004));\nvar humanize_fn = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"humanize-fn\",\"guardrails/humanize-fn\",-2095842294));\nvar vararg_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(null,\"vararg?\",\"vararg?\",1908105777));\nvar compact_QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"compact?\",\"guardrails/compact?\",-1855665962));\nvar tap_GT__QMARK_ = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(null,\"tap>?\",\"tap>?\",212454486));\nvar validate_fn = cljs.core.get.cljs$core$IFn$_invoke$arity$2(map__35504__$1,new cljs.core.Keyword(\"guardrails\",\"validate-fn\",\"guardrails/validate-fn\",2096758972));\nvar start_35723 = com.fulcrologic.guardrails.core.now_ms();\nvar vargs_QMARK__35724 = (function (){var and__5140__auto__ = args_QMARK_;\nif(cljs.core.truth_(and__5140__auto__)){\nreturn vararg_QMARK_;\n} else {\nreturn and__5140__auto__;\n}\n})();\nvar varg_35725 = (cljs.core.truth_(vargs_QMARK__35724)?cljs.core.last(cljs.core.seq(value)):null);\nvar specable_args_35726 = (cljs.core.truth_(vargs_QMARK__35724)?((cljs.core.map_QMARK_(varg_35725))?cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.vec(cljs.core.butlast(value)),cljs.core.flatten(cljs.core.seq(varg_35725))):cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.vec(cljs.core.butlast(value)),cljs.core.seq(varg_35725))):value);\nvar valid_exception_35727 = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(null);\ntry{if(cljs.core.truth_((validate_fn.cljs$core$IFn$_invoke$arity$2 ? validate_fn.cljs$core$IFn$_invoke$arity$2(spec,specable_args_35726) : validate_fn.call(null,spec,specable_args_35726)))){\n} else {\nvar _STAR_out_STAR__orig_val__35517_35731 = cljs.core._STAR_out_STAR_;\nvar _STAR_out_STAR__temp_val__35518_35732 = (cljs.core.truth_(use_stderr_QMARK_)?cljs.core._STAR_out_STAR_:cljs.core._STAR_out_STAR_);\n(cljs.core._STAR_out_STAR_ = _STAR_out_STAR__temp_val__35518_35732);\n\ntry{var explain_data_35736 = (explain_fn.cljs$core$IFn$_invoke$arity$2 ? explain_fn.cljs$core$IFn$_invoke$arity$2(spec,specable_args_35726) : explain_fn.call(null,spec,specable_args_35726));\nvar explain_human_35737 = (function (){var G__35521 = explain_data_35736;\nvar G__35522 = cljs.core.assoc.cljs$core$IFn$_invoke$arity$variadic(humanize_opts,new cljs.core.Keyword(\"guardrails\",\"compact?\",\"guardrails/compact?\",-1855665962),compact_QMARK_,cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.Keyword(\"guardrails\",\"fqnm\",\"guardrails/fqnm\",1331545691),fqnm,new cljs.core.Keyword(\"guardrails\",\"args?\",\"guardrails/args?\",-768537344),args_QMARK_], 0));\nreturn (humanize_fn.cljs$core$IFn$_invoke$arity$2 ? humanize_fn.cljs$core$IFn$_invoke$arity$2(G__35521,G__35522) : humanize_fn.call(null,G__35521,G__35522));\n})();\nvar e_35738 = cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(\"\",cljs.core.PersistentArrayMap.EMPTY);\nvar description_35739 = com.fulcrologic.guardrails.utils.problem_description((\"\"+\"\\nGuardrails:\\n\"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(explain_human_35737)),e_35738,options);\nvar context_35740 = com.fulcrologic.guardrails.core.get_global_context();\ncom.fulcrologic.guardrails.utils.record_failure(fqnm,e_35738);\n\nif(cljs.core.truth_((function (){var and__5140__auto__ = com.fulcrologic.guardrails.core.tap;\nif(cljs.core.truth_(and__5140__auto__)){\nreturn tap_GT__QMARK_;\n} else {\nreturn and__5140__auto__;\n}\n})())){\nvar G__35524_35747 = new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"fn-name\",\"com.fulcrologic.guardrails/fn-name\",-762819408),fqnm,new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"failure-point\",\"com.fulcrologic.guardrails/failure-point\",340797326),(cljs.core.truth_(args_QMARK_)?new cljs.core.Keyword(null,\"args\",\"args\",1315556576):new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814)),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"spec\",\"com.fulcrologic.guardrails/spec\",343160061),spec,new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"explain-data\",\"com.fulcrologic.guardrails/explain-data\",-1120944464),explain_data_35736,new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"explain-human\",\"com.fulcrologic.guardrails/explain-human\",-1126653153),com.fulcrologic.guardrails.utils.strip_colors(explain_human_35737)], null);\n(com.fulcrologic.guardrails.core.tap.cljs$core$IFn$_invoke$arity$1 ? com.fulcrologic.guardrails.core.tap.cljs$core$IFn$_invoke$arity$1(G__35524_35747) : com.fulcrologic.guardrails.core.tap.call(null,G__35524_35747));\n} else {\n}\n\nif(cljs.core.truth_(throw_QMARK_)){\ncljs.core.reset_BANG_(valid_exception_35727,cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2((function (){var G__35527 = description_35739;\nif(cljs.core.truth_(context_35740)){\nreturn (\"\"+\"\\nContext: \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(context_35740)+cljs.core.str.cljs$core$IFn$_invoke$arity$1(G__35527));\n} else {\nreturn G__35527;\n}\n})(),cljs.core.with_meta(new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"validation-error\",\"com.fulcrologic.guardrails/validation-error\",776351266),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"fn-name\",\"com.fulcrologic.guardrails/fn-name\",-762819408),fn_name,new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"failure-point\",\"com.fulcrologic.guardrails/failure-point\",340797326),(cljs.core.truth_(args_QMARK_)?new cljs.core.Keyword(null,\"args\",\"args\",1315556576):new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814)),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"spec\",\"com.fulcrologic.guardrails/spec\",343160061),spec,new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"context\",\"com.fulcrologic.guardrails/context\",-834538901),context_35740], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"val\",\"com.fulcrologic.guardrails/val\",132345656),specable_args_35726], null))));\n} else {\ncom.fulcrologic.guardrails.utils.report_problem.cljs$core$IFn$_invoke$arity$1(description_35739);\n}\n}finally {(cljs.core._STAR_out_STAR_ = _STAR_out_STAR__orig_val__35517_35731);\n}}\n}catch (e35515){var e_35767 = e35515;\nvar error_msg_35768 = cljs.core.ex_message(e_35767);\nvar is_schema_error_QMARK__35769 = (function (){var and__5140__auto__ = error_msg_35768;\nif(cljs.core.truth_(and__5140__auto__)){\nvar or__5142__auto__ = cljs.core.re_find(/Unable to resolve spec/,error_msg_35768);\nif(cljs.core.truth_(or__5142__auto__)){\nreturn or__5142__auto__;\n} else {\nvar or__5142__auto____$1 = cljs.core.re_find(/no method/,error_msg_35768);\nif(cljs.core.truth_(or__5142__auto____$1)){\nreturn or__5142__auto____$1;\n} else {\nvar or__5142__auto____$2 = cljs.core.re_find(/Unknown schema/,error_msg_35768);\nif(cljs.core.truth_(or__5142__auto____$2)){\nreturn or__5142__auto____$2;\n} else {\nreturn cljs.core.re_find(/Invalid schema/,error_msg_35768);\n}\n}\n}\n} else {\nreturn and__5140__auto__;\n}\n})();\nvar user_friendly_msg_35770 = (cljs.core.truth_(is_schema_error_QMARK__35769)?(\"\"+\"Schema/spec error in \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(fqnm)+\": \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(error_msg_35768)+\"\\nThis typically means a referenced schema doesn't exist or wasn't loaded.\"):(\"\"+\"BUG: Internal error validating \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(fqnm)+\": \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(error_msg_35768)));\nif(cljs.core.truth_(throw_QMARK_)){\ncljs.core.reset_BANG_(valid_exception_35727,cljs.core.ex_info.cljs$core$IFn$_invoke$arity$2(user_friendly_msg_35770,new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,\"type\",\"type\",1174270348),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"schema-error\",\"com.fulcrologic.guardrails/schema-error\",1218859081),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"fn-name\",\"com.fulcrologic.guardrails/fn-name\",-762819408),fn_name,new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"failure-point\",\"com.fulcrologic.guardrails/failure-point\",340797326),(cljs.core.truth_(args_QMARK_)?new cljs.core.Keyword(null,\"args\",\"args\",1315556576):new cljs.core.Keyword(null,\"ret\",\"ret\",-468222814)),new cljs.core.Keyword(\"com.fulcrologic.guardrails\",\"original-error\",\"com.fulcrologic.guardrails/original-error\",1200935340),e_35767], null)));\n} else {\ncom.fulcrologic.guardrails.utils.report_problem.cljs$core$IFn$_invoke$arity$1(user_friendly_msg_35770);\n}\n}finally {var duration_35775 = (com.fulcrologic.guardrails.core.now_ms() - start_35723);\nif((duration_35775 > (100))){\ncom.fulcrologic.guardrails.utils.report_problem.cljs$core$IFn$_invoke$arity$3((\"\"+\"WARNING: \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(fn_name)+\" \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1((cljs.core.truth_(args_QMARK_)?\"argument specs\":\"return spec\"))+\" took \"+cljs.core.str.cljs$core$IFn$_invoke$arity$1(duration_35775)+\"ms to run.\"),null,options);\n} else {\n}\n}\nif(cljs.core.truth_(cljs.core.deref(valid_exception_35727))){\nthrow cljs.core.deref(valid_exception_35727);\n} else {\n}\n\nreturn null;\n});\ncom.fulcrologic.guardrails.core.js__QMARK_window = (((typeof window !== 'undefined'))?window:null);\n/**\n * Like `get` for JS objects.\n */\ncom.fulcrologic.guardrails.core.oget = (function com$fulcrologic$guardrails$core$oget(var_args){\nvar G__35577 = arguments.length;\nswitch (G__35577) {\ncase 1:\nreturn com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ncase 3:\nreturn com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$3((arguments[(0)]),(arguments[(1)]),(arguments[(2)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",arguments.length].join(\"\")));\n\n}\n});\n\n(com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$1 = (function (k){\nreturn com.fulcrologic.guardrails.core.goog$module$goog$object.get(com.fulcrologic.guardrails.core.js__QMARK_window,cljs.core.name(k));\n}));\n\n(com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2 = (function (o,k){\nreturn com.fulcrologic.guardrails.core.goog$module$goog$object.get(o,cljs.core.name(k),null);\n}));\n\n(com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$3 = (function (o,k,not_found){\nreturn com.fulcrologic.guardrails.core.goog$module$goog$object.get(o,cljs.core.name(k),not_found);\n}));\n\n(com.fulcrologic.guardrails.core.oget.cljs$lang$maxFixedArity = 3);\n\n/**\n * Returns current value of best-resolution time source as nanoseconds.\n */\ncom.fulcrologic.guardrails.core.now_nano = (function (){var perf = com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2(com.fulcrologic.guardrails.core.js__QMARK_window,\"performance\");\nvar pf = (cljs.core.truth_(perf)?(function (){var or__5142__auto__ = com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2(perf,\"now\");\nif(cljs.core.truth_(or__5142__auto__)){\nreturn or__5142__auto__;\n} else {\nvar or__5142__auto____$1 = com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2(perf,\"mozNow\");\nif(cljs.core.truth_(or__5142__auto____$1)){\nreturn or__5142__auto____$1;\n} else {\nvar or__5142__auto____$2 = com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2(perf,\"webkitNow\");\nif(cljs.core.truth_(or__5142__auto____$2)){\nreturn or__5142__auto____$2;\n} else {\nvar or__5142__auto____$3 = com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2(perf,\"msNow\");\nif(cljs.core.truth_(or__5142__auto____$3)){\nreturn or__5142__auto____$3;\n} else {\nreturn com.fulcrologic.guardrails.core.oget.cljs$core$IFn$_invoke$arity$2(perf,\"oNow\");\n}\n}\n}\n}\n})():null);\nif(cljs.core.truth_((function (){var and__5140__auto__ = perf;\nif(cljs.core.truth_(and__5140__auto__)){\nreturn pf;\n} else {\nreturn and__5140__auto__;\n}\n})())){\nreturn (function (){\nreturn Math.floor((1000000.0 * pf.call(perf)));\n});\n} else {\nreturn (function (){\nreturn (1000000.0 * Date.now());\n});\n}\n})();\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","com/fulcrologic/guardrails/core.cljc","~:line",10,"~:column",5,"~:end-line",10,"~:end-column",36],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader","~$clojure.spec.alpha","~$cljs.spec.alpha","~$clojure.pprint","~$cljs.pprint","~$clojure.core.async","~$cljs.core.async"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:macros",["^ ","~$>defn-",["^ ","~:arglists",["~#list",[["~$name","~$doc-string?","~$attr-map?",["~$params*"],"~$gspec","~$prepost-map?","~$body?"],["^K","^L","^M",["^J",[["^N"],"^O","^P","^Q"]],"~$+","^M"]]],"~:doc","Like defn-, but requires a (nilable) gspec definition and generates\n     additional `s/fdef` function spec definition and validation code.","^7",948,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","~:name","~$com.fulcrologic.guardrails.core/>defn-","~:ns","~$com.fulcrologic.guardrails.core","~:macro",true],"~$>fdef",["^ ","^I",["^J",[["^K",["^N"],"^O"],["^K",["^J",[["^N"],"^O"]],"~$+"]]],"^R","Defines an fspec using gspec syntax â€“ pretty much a `>defn` without the body.\n\n     `name` can be a symbol or a qualified keyword, depending on whether the\n     fspec is meant to be registered as a top-level fspec (=> s/fdef fn-sym ..)\n     or used in other specs (=> s/def ::spec-keyword (s/fspec ...)). ","^7",990,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/>fdef","^U","^V","^W",true],"~$>def",["^ ","^I",["^J",[["~$k","~$spec-form"],["~$k","~$_doc","^["]]],"^R","Just like Clojure s/def, except there is a stub for this in the `noop`\n     namespace, which you can substitute via CLJS build parameters, turning it\n     into code that can be dead-code eliminated in a CLJS production build. See\n     the docstring for the `com.fulcrologic.guardrails.noop` namespace.","^7",971,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/>def","^U","^V","^W",true],"~$?",["^ ","^I",["^J",[["~$&","~$forms"]]],"^7",205,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/?","^U","^V","^W",true],"~$>defn",["^ ","^I",["^J",[["^K","^L","^M",["^N"],"^O","^P","^Q"],["^K","^L","^M",["^J",[["^N"],"^O","^P","^Q"]],"~$+","^M"]]],"^R","Like defn, but requires a (nilable) gspec definition and generates\n     additional `s/fdef` function spec definition and validation code.","^7",933,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/>defn","^U","^V","^W",true],"~$with-global-context",["^ ","^I",["^J",[["~$ctx","~$&","~$body"]]],"^R","Wraps the body with an enter and leave global context.\n      Will always call leave as it uses a try finally block.\n      See `enter-global-context!`.","^7",48,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/with-global-context","^U","^V","^W",true],"~$>fn",["^ ","^I",["^J",[["~$&","^12"]]],"^7",1011,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/>fn","^U","^V","^W",true],"~$>fspec",["^ ","^I",["^J",[["~$&","^12"]]],"^7",1014,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","~$com.fulcrologic.guardrails.core/>fspec","^U","^V","^W",true]],"^S","^V","~:reader-aliases",["^ "],"~:op","^U","~:imports",null,"~:requires",["^ ","^>","^?","~$gr.cfg","~$com.fulcrologic.guardrails.config","~$com.fulcrologic.guardrails.impl.externs","^1D","~$expound.alpha","^1E","~$cljs.core","^1F","~$gobj","~$goog.object","~$goog","^1I","^1H","^1H","~$exp","^1E","~$s","^?","~$com.fulcrologic.guardrails.utils","^1K","~$str","~$clojure.string","~$utils","^1K","^1C","^1C","^1M","^1M","^?","^?"],"~:seen",["^F",["~:require","~:require-macros"]],"~:uses",["^ ","~$strip-colors","^1K"],"^1Q",["^ ","^>","^?","^V","^V","^1B","^1C","^1F","^1F","~$s","^?","^1K","^1K","^1N","^1K","^1C","^1C","^?","^?"],"~:form",["^J",["~$ns","^V",["^J",["^1Q","^V"]],["^J",["^1P",["^1D"],["^1K","~:as","^1N","~:refer",["^1S"]],["^1H","^1V","^1G"],["^>","^1V","~$s"],["^1M","^1V","^1L"],["^1C","^1V","^1B"],["^1E","^1V","^1J"]]]]],"~:flags",["^ ","^1Q",["^F",[]],"^1P",["^F",[]]],"~:js-deps",[],"~:deps",["^1I","^1F","^1D","^1K","^1H","^?","^1M","^1C","^1E"]],"^U","^V","~:resource-id",["~:shadow.build.classpath/resource","com/fulcrologic/guardrails/core.cljc"],"~:compiled-at",1770361575158,"^1>",["^ ","^>","^?","^V","^V","^1B","^1C","^1D","^1D","^1E","^1E","^1F","^1F","^1G","^1H","^1I","^1I","^1H","^1H","^1J","^1E","~$s","^?","^1K","^1K","^1L","^1M","^1N","^1K","^1C","^1C","^1M","^1M","^?","^?"],"~:resource-name","com/fulcrologic/guardrails/core.cljc","~:warnings",[],"~:source",";; Copyright (c) George Lipov. All rights reserved.\n;; Additional code Copyright Fulcrologic, LLC.\n;; The use and distribution terms for this software are covered by the\n;; Eclipse Public License 2.0 (https://choosealicense.com/licenses/epl-2.0/)\n;; which can be found in the file LICENSE at the root of this distribution.\n;; By using this software in any fashion, you are agreeing to be bound by\n;; the terms of this license.\n;; You must not remove this notice, or any other, from this software.\n\n(ns com.fulcrologic.guardrails.core\n  #?(:cljs (:require-macros com.fulcrologic.guardrails.core))\n  (:require\n    #?@(:clj  [[clojure.set :as set]\n               [clojure.walk :as walk]\n               [com.fulcrologic.guardrails.impl.pro :as gr.pro]\n               [com.fulcrologic.guardrails.utils :as utils :refer [cljs-env? clj->cljs strip-colors]]]\n        :cljs [[com.fulcrologic.guardrails.impl.externs]\n               [com.fulcrologic.guardrails.utils :as utils :refer [strip-colors]]\n               [goog.object :as gobj]])\n    [clojure.spec.alpha :as s]\n    [clojure.string :as str]\n    [com.fulcrologic.guardrails.config :as gr.cfg]\n    [expound.alpha :as exp]))\n\n;; It doesn't actually matter what these are bound to, they are stripped by\n;; the macros they're used in and never end up in the final code. This is just\n;; so they can be used without '=> cannot be resolved' errors in the IDE.\n(def => :ret)\n(def | :st)\n(def <- :gen)\n\n(defonce ^:private !global-context (atom (list)))\n\n(defn enter-global-context!\n  \"Push a global context, accessible from all threads, onto a stack. Used to add\n  information to what guardrails will report when a function failed a check.\"\n  [ctx]\n  (swap! !global-context (partial cons ctx)))\n\n(defn leave-global-context!\n  \"Pops a global context (see `enter-global-context!`). Should be passed the\n  same context that was pushed, although is not enforced, as it's only to be\n  easily compatible with fulcro-spec's hooks API.\"\n  [ctx]\n  (swap! !global-context rest))\n\n#?(:clj\n   (defmacro with-global-context\n     \"Wraps the body with an enter and leave global context.\n      Will always call leave as it uses a try finally block.\n      See `enter-global-context!`.\"\n     [ctx & body]\n     `(do\n        (enter-global-context! ~ctx)\n        (try ~@body\n             (finally\n               (leave-global-context! ~ctx))))))\n\n(defn- get-global-context [] (first @!global-context))\n\n;; runtime checking (both clj and cljs\n(defn- output-fn [data]\n  (let [{:keys [level ?err msg_ ?ns-str ?file hostname_\n                timestamp_ ?line]} data]\n    (str\n      (str/upper-case (name level)) \" \"\n      (force msg_)\n      (when-let [err ?err]\n        (str \"\\n\" (utils/stacktrace err))))))\n\n#?(:clj\n   (defn now-ms ^long []\n     (System/currentTimeMillis))\n   :cljs\n   (defn now-ms []\n     (inst-ms (js/Date.))))\n\n(def tap (resolve 'tap>))\n\n(defn humanize-spec [explain-data {:guardrails/keys [compact? args? fqnm] :as expound-options}]\n  (if compact?\n    (let [lines (into [(if args?\n                         (str fqnm \"'s arguments:\")\n                         (str fqnm \"'s return:\"))]\n                  (->>\n                    (str/split-lines\n                      (with-out-str\n                        ((exp/custom-printer expound-options) explain-data)))\n                    (remove (fn [l]\n                              (or\n                                (str/includes? l \"------\")\n                                (re-matches #\"^Detected \\d.*$\" l)\n                                (re-matches #\"^\\s*$\" l))))))]\n      (str \"  \" (str/join \"\\n  \" lines)))\n    (with-out-str\n      ((exp/custom-printer expound-options) explain-data))))\n\n(defn run-check [{:guardrails/keys [malli? compact? use-stderr? validate-fn explain-fn fqnm humanize-fn]\n                  :keys            [tap>? args? vararg? humanize-opts throw? fn-name]\n                  :as              options}\n                 spec\n                 value]\n  (let [start           (now-ms)\n        vargs?          (and args? vararg?)\n        varg            (if vargs? (last (seq value)) nil)\n        specable-args   (if vargs?\n                          (if (map? varg)\n                            (into (vec (butlast value)) (flatten (seq varg)))\n                            (into (vec (butlast value)) (seq varg)))\n                          value)\n        valid-exception (atom nil)]\n    ;; FIXME: @gnl Output should be:\n    ;; For function a.b/c\n    ;; expected: [int? double? => int?]\n    ;; actual: [nil 2.0] => \"hello\"\n    (try\n      (when-not (validate-fn spec specable-args)\n        (binding [*out* (if use-stderr? #?(:clj *err* :cljs *out*) *out*)]\n          (let [explain-data  (explain-fn spec specable-args)\n                explain-human (humanize-fn explain-data (assoc humanize-opts\n                                                          :guardrails/compact? compact?\n                                                          :guardrails/fqnm fqnm\n                                                          :guardrails/args? args?))\n                e             (ex-info \"\" {})\n                description   (utils/problem-description\n                                (str\n                                  \"\\nGuardrails:\\n\"\n                                  explain-human)\n                                e options)\n                context       (get-global-context)]\n            (utils/record-failure fqnm e)\n            (when (and tap tap>?)\n              (tap #:com.fulcrologic.guardrails\n                      {:fn-name       fqnm\n                       :failure-point (if args? :args :ret)\n                       :spec          spec\n                       :explain-data  explain-data\n                       :explain-human (strip-colors explain-human)}))\n            (if throw?\n              (reset! valid-exception\n                (ex-info (cond->> description context\n                           (str \"\\nContext: \" context))\n                  (with-meta\n                    #:com.fulcrologic.guardrails\n                            {:_/type        :com.fulcrologic.guardrails/validation-error\n                             :fn-name       fn-name\n                             :failure-point (if args? :args :ret)\n                             :spec          spec\n                             :context       context}\n                    #:com.fulcrologic.guardrails\n                            {:val specable-args})))\n              (utils/report-problem description)))))\n      (catch #?(:cljs :default :clj Throwable) e\n        (let [error-msg         (ex-message e)\n              is-schema-error?  (and error-msg\n                                  (or (re-find #\"Unable to resolve spec\" error-msg)\n                                    (re-find #\"no method\" error-msg)\n                                    (re-find #\"Unknown schema\" error-msg)\n                                    (re-find #\"Invalid schema\" error-msg)))\n              user-friendly-msg (if is-schema-error?\n                                  (str \"Schema/spec error in \" fqnm \": \" error-msg\n                                    \"\\nThis typically means a referenced schema doesn't exist or wasn't loaded.\")\n                                  (str \"BUG: Internal error validating \" fqnm \": \" error-msg))]\n          (if throw?\n            (reset! valid-exception\n              (ex-info user-friendly-msg\n                #:com.fulcrologic.guardrails\n                        {:_/type         :com.fulcrologic.guardrails/schema-error\n                         :fn-name        fn-name\n                         :failure-point  (if args? :args :ret)\n                         :original-error e}))\n            (utils/report-problem user-friendly-msg))))\n      (finally\n        (let [duration (- (now-ms) start)]\n          (when (> duration 100)\n            (utils/report-problem (str \"WARNING: \" fn-name \" \" (if args? \"argument specs\" \"return spec\") \" took \" duration \"ms to run.\")\n              nil options)))))\n    (when @valid-exception\n      (throw @valid-exception)))\n  nil)\n\n#?(:clj\n   (defn clean-defn\n     \"This removes the gspec and returns a clean defn for use in production\n     builds.\"\n     [op forms]\n     (let [single-arity? (fn [fn-forms] (boolean (some vector? fn-forms)))\n           strip-gspec   (fn [body] (let [[args _gspec & more] body]\n                                      (cons args more)))]\n       (->> (if (single-arity? forms)\n              (let [[head-forms body-forms] (split-with (complement vector?) forms)]\n                `(~op ~@head-forms ~@(strip-gspec body-forms)))\n              (let [[head-forms body-forms tail-attr-map] (partition-by (complement seq?) forms)]\n                `(~op ~@head-forms ~@(map strip-gspec body-forms) ~@tail-attr-map)))\n         (remove nil?)))))\n\n#?(:clj\n   (defn- count-args\n     \"Returns a tuple with the number of regular and non-variadic arguments.\"\n     [conformed-args]\n     [(count (:args conformed-args))\n      (if (:varargs conformed-args) 1 0)]))\n\n#?(:clj\n   (defmacro ? [& forms]\n     (cond-> `(s/nilable ~@forms)\n       (cljs-env? &env) clj->cljs)))\n\n#?(:clj\n   (do\n     (s/def ::defn-macro string?)\n     (s/def ::expound (s/map-of keyword? any?))\n     (s/def ::throw? boolean?)\n\n     (s/def ::guardrails-config\n       (s/keys\n         :opt-un [::defn-macro\n                  ::expound\n                  ::throw?]))\n\n     ;; These are lifted straight from clojure.core.specs.alpha, because it\n     ;; didn't seem possible to access them directly in the original namespace.\n     (s/def ::local-name (s/and simple-symbol? #(not= '& %)))\n\n     ;; sequential destructuring\n     (s/def ::seq-binding-form\n       (s/and vector?\n         (s/cat :elems (s/* ::binding-form)\n           :rest (s/? (s/cat :amp #{'&} :form ::binding-form))\n           :as (s/? (s/cat :as #{:as} :sym ::local-name)))))\n\n     ;; map destructuring\n     (s/def ::keys (s/coll-of ident? :kind vector?))\n     (s/def ::syms (s/coll-of symbol? :kind vector?))\n     (s/def ::strs (s/coll-of simple-symbol? :kind vector?))\n     (s/def ::or (s/map-of simple-symbol? any?))\n     (s/def ::as ::local-name)\n\n     (s/def ::map-special-binding\n       (s/keys :opt-un [::as ::or ::keys ::syms ::strs]))\n\n     (s/def ::map-binding (s/tuple ::binding-form any?))\n\n     (s/def ::ns-keys\n       (s/tuple\n         (s/and qualified-keyword? #(-> % name #{\"keys\" \"syms\"}))\n         (s/coll-of simple-symbol? :kind vector?)))\n\n     (s/def ::map-bindings\n       (s/every (s/or :mb ::map-binding\n                  :nsk ::ns-keys\n                  :msb (s/tuple #{:as :or :keys :syms :strs} any?))\n         :into {}))\n\n     (s/def ::map-binding-form (s/merge ::map-bindings ::map-special-binding))\n\n     (s/def ::binding-form\n       (s/or :sym ::local-name\n         :seq ::seq-binding-form\n         :map ::map-binding-form))\n\n     ;;; Function and >defn specs\n\n     (s/def ::arg-list\n       (s/and vector?\n         (s/cat :args (s/* ::binding-form)\n           :varargs (s/? (s/cat :amp #{'&} :form ::binding-form)))))\n\n     (s/def ::pred-arg-list\n       (s/and vector?\n         (s/cat :args (s/* (s/or :sym ::local-name)))))\n\n     (s/def ::anon-args+body\n       (s/cat :args ::arg-list\n         :body (s/* any?)))\n\n     (s/def ::anon-fn\n       (s/and seq?\n         (s/cat :op #{'fn* 'fn}\n           :name (s/? simple-symbol?)\n           :bs (s/alt :arity-1 ::anon-args+body\n                 :arity-n (s/+ (s/spec ::anon-args+body))))))\n\n     (s/def ::pred-fn\n       (s/and seq?\n         (s/cat :op #{'fn* 'fn}\n           :name (s/? simple-symbol?)\n           :args ::pred-arg-list\n           :body any?)))\n\n     (s/def ::spec-elem\n       (s/or\n         :set set?\n         :pred-sym (s/and symbol?\n                     (complement #{'| '=> '<-})\n                     ;; REVIEW: should the `?` be a requirement?\n                     #(str/ends-with? (str %) \"?\"))\n         :gspec (s/or :nilable-gspec ::nilable-gspec :gspec ::gspec)\n         :spec-key qualified-keyword?\n         :fun ::pred-fn\n         :list seq?))\n\n     (s/def ::such-that-op #{:st '|})\n     (s/def ::ret-op #{:ret '=>})\n     (s/def ::gen-op #{:gen '<-})\n\n     (s/def ::gspec\n       (s/and vector?\n         (s/cat :args (s/? (s/cat :args (s/+ ::spec-elem)\n                             :args-such-that (s/? (s/cat :op ::such-that-op\n                                                    :preds (s/+ ::pred-fn)))))\n           :ret-op ::ret-op\n           :ret ::spec-elem\n           :fn-such-that (s/? (s/cat :op ::such-that-op\n                                :preds (s/+ ::pred-fn)))\n           :gen (s/? (s/cat :op ::gen-op\n                       :gen-fn (s/? (some-fn seq? symbol?)))))))\n\n     (s/def ::nilable-gspec\n       (s/and vector?\n         (s/cat :maybe #{'? 's/nilable}\n           :gspec ::gspec)))\n\n     (s/def ::prepost (s/map-of #{:pre :post}\n                        (s/coll-of seq?\n                          :kind vector?\n                          :distinct true)))\n\n     (s/def ::args+body\n       (s/cat :args ::arg-list\n         :body (s/alt :prepost+body (s/cat :prepost ::prepost\n                                      :body (s/+ any?))\n                 :body (s/* any?))))\n\n     (s/def ::args+gspec+body\n       (s/&\n         (s/cat :args ::arg-list\n           :gspec (s/nilable ::gspec)\n           :body (s/alt :prepost+body (s/cat :prepost ::prepost\n                                        :body (s/+ any?))\n                   :body (s/* any?)))\n         (fn arg-specs-match-param-count? [{:keys [args gspec]}]\n           (if-not gspec\n             true\n             (let [argcount  (->> args count-args (apply +))\n                   spec-args (:args gspec)]\n               (if spec-args\n                 (-> spec-args :args count (= argcount))\n                 (= argcount 0)))))))\n\n     (s/def ::defn\n       (s/and seq?\n         (s/cat :op #{'defn 'defn-}\n           :name simple-symbol?\n           :docstring (s/? string?)\n           :meta (s/? map?)\n           :bs (s/alt :arity-1 ::args+body\n                 :arity-n (s/cat :bodies (s/+ (s/spec ::args+body))\n                            :attr (s/? map?))))))))\n\n;;;; Main code generating functions\n\n#?(:clj\n   (defn- gspec->fspec*\n     \"Generates a clojure.spec fspec or Malli schema from a spec-conformed\n     gspec. Output varies depending on whether the generated spec or schema is\n     meant for external consumption by clojure.spec or Malli tools, or for\n     internal checking with Guardrails.\"\n     [{:com.fulcrologic.guardrails.core/keys\n       [conformed-reg-args conformed-var-arg arg-syms clean-arg-vec]\n       :as processed-args}\n      conformed-gspec\n      {:com.fulcrologic.guardrails.core/keys\n       [anon-fspec? multi-arity-args? nilable? malli? external-consumption?]\n       :as opts}]\n     (let [{argspec-def              :args\n            retspec                  :ret\n            ret-such-that            :fn-such-that\n            {:keys [gen-fn] :as gen} :gen}\n           conformed-gspec]\n       ;; gnl: This functions as a graceful downgrade for some validation cases\n       ;; with clojure.spec where an anonymous or nested gspec for a function\n       ;; argument has neither specific enough types nor a generator.\n       (if (and anon-fspec?\n             argspec-def\n             (not gen)\n             (some #{'any? :any} (-> argspec-def :args vals)))\n         (if nilable?\n           (if malli? `[:maybe ifn?] `(s/nilable ifn?))\n           `ifn?)\n         (let [extract-spec\n               (fn extract-spec [[spec-type spec]]\n                 (if (= spec-type :gspec)\n                   (if (= (key spec) :nilable-gspec)\n                     (gspec->fspec*\n                       nil\n                       (-> spec val :gspec)\n                       {::anon-fspec? true\n                        ::nilable?    true\n                        ::malli?      malli?})\n                     (gspec->fspec*\n                       nil\n                       (val spec)\n                       {::anon-fspec? true\n                        ::malli?      malli?}))\n                   spec))\n\n               ;; Destructuring vector for the function arguments with added\n               ;; bindings for anonymous destructurings (those without an `:as`\n               ;; attribute). The goal is to ensure that the argument and return\n               ;; such-that predicates defined below can directly reference all\n               ;; argument bindings\n               arg-destructuring\n               (if (empty? clean-arg-vec)\n                 (if malli? [] {})\n                 (if (every? (fn [[type _arg]] (= type :sym))\n                       (remove nil? (conj conformed-reg-args conformed-var-arg)))\n                   (if malli?\n                     arg-syms\n                     `{:keys ~arg-syms})\n                   (if malli?\n                     clean-arg-vec\n                     (->> (map (fn [destruct-binding arg-sym]\n                                 [destruct-binding (keyword arg-sym)])\n                            clean-arg-vec\n                            arg-syms)\n                       (into {})))))\n\n               ;; Process an argument predicate to make sure all direct\n               ;; references to the argument bindings are valid\n               process-arg-pred\n               (fn process-arg-pred [{:keys [name args body]}]\n                 (let [bindings (if-let [anon-arg (some-> args :args first second)]\n                                  (if malli?\n                                    (into arg-destructuring [:as anon-arg])\n                                    (assoc arg-destructuring :as anon-arg))\n                                  arg-destructuring)\n                       function (remove nil? `(fn ~name [~bindings] ~body))]\n                   (if malli?\n                     [:fn function]\n                     function)))\n\n               ;; Argument spec, and-wrapped with all such-that predicates and\n               ;; ready to be used for validation\n               processed-arg-spec\n               (if-not argspec-def\n                 (if malli? `[:catn] `(s/cat))\n                 (let [wrapped-params (as-> argspec-def __\n                                        (:args __)\n                                        (map extract-spec __)\n                                        (if malli?\n                                          (if anon-fspec?\n                                            __\n                                            (map #(do [(keyword %1) %2]) arg-syms __))\n                                          (if anon-fspec?\n                                            (interleave\n                                              (map-indexed\n                                                (fn [^long index _]\n                                                  (keyword (format \"arg%s\" (str (inc index)))))\n                                                (repeat nil))\n                                              __)\n                                            (interleave (map keyword arg-syms) __)))\n                                        (if malli?\n                                          (if anon-fspec?\n                                            (vec (cons `:cat __))\n                                            (vec (cons `:catn __)))\n                                          (cons `s/cat __)))]\n                   (if-let [args-such-that (:args-such-that argspec-def)]\n                     (as-> args-such-that __\n                       (:preds __)\n                       (map process-arg-pred __)\n                       (if malli?\n                         ;; REVIEW: Malli doesn't seem to support arg\n                         ;; predicates in function schemas, so we just strip\n                         ;; them when outputting Malli schemas, but we do still\n                         ;; use them for Guardrails validation\n                         (if external-consumption?\n                           wrapped-params\n                           (vec (list* :and wrapped-params __)))\n                         (list* `s/and wrapped-params __)))\n                     wrapped-params)))\n\n               ;; Making sure references to the argument bindings and return\n               ;; value in ret such-that predicates are legit\n               process-ret-pred\n               (fn process-ret-pred [{:keys [name args body]}]\n                 (let [anon-arg       (some-> args :args first second)\n                       ret-sym        (gensym \"ret__\")\n                       bindings       [{(if multi-arity-args?\n                                          ['_ arg-destructuring]\n                                          arg-destructuring) :args\n                                        ret-sym              :ret}]\n                       processed-body (if anon-arg\n                                        (walk/postwalk-replace {anon-arg ret-sym} body)\n                                        body)]\n                   (remove nil? `(fn ~name ~bindings ~processed-body))))\n\n               processed-ret-preds\n               (when ret-such-that\n                 (map process-ret-pred (:preds ret-such-that)))\n\n               ;; Guardrails checks arg and ret specs separately, so in order\n               ;; for the ret such-that predicates to be able to reference\n               ;; argument bindings, we have to close over those. Spec has\n               ;; separate :fn predicates for that and Malli doesn't do it at\n               ;; all.\n               closurify-ret-pred\n               (fn [fn-pred]\n                 (let [[pred-head [[orig-pred-params] & pred-bodies]]\n                       (split-with (complement vector?) fn-pred)\n\n                       pred-params (-> orig-pred-params\n                                     set/map-invert\n                                     (assoc :args clean-arg-vec)\n                                     set/map-invert)\n                       ret-pred    `(~@pred-head [~pred-params]\n                                      ~@pred-bodies)]\n                   `(~@pred-head [ret#]\n                      (let [pred-args# {:args ~arg-syms :ret ret#}\n                            ret-pred#  ~ret-pred]\n                        (ret-pred# pred-args#)))))\n\n               closurified-ret-preds\n               (when processed-ret-preds\n                 (cond->> (map closurify-ret-pred processed-ret-preds)\n                   malli? (map #(do `[:fn ~%]))))\n\n               final-fspec\n               (if malli?\n                 (if (or external-consumption? anon-fspec?)\n                   (vec (concat\n                          (when-not multi-arity-args? [:function])\n                          [[:=> processed-arg-spec (extract-spec retspec)]]))\n                   (let [ret (extract-spec retspec)]\n                     {:args processed-arg-spec\n                      :ret  (if closurified-ret-preds\n                              `[:and ~ret ~@closurified-ret-preds]\n                              ret)}))\n                 (if (or external-consumption? anon-fspec?)\n                   (concat\n                     (when anon-fspec? [`s/fspec])\n                     [:args processed-arg-spec]\n                     [:ret (extract-spec retspec)]\n                     (when processed-ret-preds\n                       [:fn (if (next processed-ret-preds)\n                              (cons `s/and processed-ret-preds)\n                              (first processed-ret-preds))])\n                     (when gen-fn [:gen gen-fn]))\n                   (let [ret (extract-spec retspec)]\n                     {:args processed-arg-spec\n                      :ret  (if closurified-ret-preds\n                              `(s/and ~ret ~@closurified-ret-preds)\n                              ret)})))]\n           (if nilable?\n             (if malli?\n               `[:maybe ~final-fspec]\n               `(s/nilable ~final-fspec))\n             final-fspec))))))\n\n#?(:clj\n   (let [unscrew-vec-unform\n         (fn [unformed-arg]\n           ;; Half-arsed workaround for spec bugs CLJ-2003 and CLJ-2021.\n           (if-not (sequential? unformed-arg)\n             unformed-arg\n             (let [malformed-seq-destructuring? (every-pred seq? (comp #{:as '&} first))\n                   [unformed malformed] (split-with (complement malformed-seq-destructuring?) unformed-arg)]\n               (vec (concat unformed (apply concat malformed))))))\n\n         ;; We need to have unique names for all arguments for Guardrails\n         ;; checking and such-that predicates to work correctly, but with\n         ;; anonymous vector or map destructuring of arguments (without an `:as`\n         ;; attribute) we might not.\n         process-arg\n         (fn [index [arg-type arg]]\n           (let [arg-prefix (format \"arg%s_\" (str (if (int? index)\n                                                    (inc (long index))\n                                                    index)))]\n             (as-> arg arg\n               (case arg-type\n                 :sym [arg-type arg]\n                 :seq [arg-type (update arg :as #(or % {:as :as :sym (gensym arg-prefix)}))]\n                 :map [arg-type (update arg :as #(or % (gensym arg-prefix)))]))))]\n     (defn- process-args [{:keys [args] :as fn-tail}]\n       (let [conformed-reg-args (vec (->> args :args (map-indexed process-arg)))\n             arg->sym           #(let [f (into {} [%])]\n                                   (or\n                                     (:sym f)\n                                     (some-> f :seq :as :sym)\n                                     (some-> f :map :as)))\n             reg-arg-names      (mapv arg->sym conformed-reg-args)\n             conformed-var-arg  (some->> args :varargs :form (process-arg \"v\"))\n             arg-syms           (if conformed-var-arg\n                                  (conj reg-arg-names (arg->sym conformed-var-arg))\n                                  reg-arg-names)\n             unform-arg         #(->> % (s/unform ::binding-form) unscrew-vec-unform)\n             clean-arg-vec      (vec (concat\n                                       (map unform-arg conformed-reg-args)\n                                       (when conformed-var-arg [(unform-arg conformed-var-arg)])))\n             raw-arg-vec        (if-not conformed-var-arg\n                                  clean-arg-vec\n                                  (vec (concat\n                                         (pop clean-arg-vec)\n                                         ['&]\n                                         [(peek clean-arg-vec)])))]\n         {::conformed-reg-args conformed-reg-args\n          ::conformed-var-arg  conformed-var-arg\n          ::arg-syms           arg-syms\n          ::raw-arg-vec        raw-arg-vec\n          ;; Includes the variadic arg like raw but without the `&`\n          ::clean-arg-vec      clean-arg-vec}))))\n\n#?(:clj\n   ;; TODO make sure we check whether the variadic bodies are legit\n   ;; Can not have more than one\n   ;; Can not have one with more regular args than the variadic one\n   ;; To what extent does the compiler already check this?\n   (let [get-fspecs    (fn [malli? fn-tail]\n                         (let [[param-count ^long variadic] (-> fn-tail :args count-args)\n                               gspec (or (:gspec fn-tail)\n                                       (s/conform ::gspec\n                                         (vec (concat (repeat param-count 'any?)\n                                                (when (> variadic 0)\n                                                  (if malli?\n                                                    `[[:* any?]]\n                                                    `[(s/* any?)]))\n                                                '[=> any?]))))]\n                           [(->> (if (> variadic 0) \"n\" param-count)\n                              (str \"arity-\")\n                              keyword)\n                            (gspec->fspec*\n                              (process-args fn-tail)\n                              gspec\n                              {::multi-arity-args?     true\n                               ::malli?                malli?\n                               ::external-consumption? true})]))\n         get-spec-part (fn [part spec]\n                         (->> spec\n                           (drop-while (complement #{part}))\n                           second))]\n     (defn- generate-external-fspec\n       \"Generates function specs or schemas for external consumption by native\n       clojure.spec or Malli tools. Data specs for internal Guardrails checking\n       are different in that we have one argument and one return data spec for\n       each function arity.\n\n       Native function specs are in some ways more complex (they need to account\n       for multi-arity in a single branching spec, clojure.spec has :fn\n       predicates separate from the :ret predicates, etc.) and in other ways\n       simpler (Malli doesn't have proper predicate support in function schemas,\n       so we just drop those).\n\n       In any case, they are different enough that they require separate\n       handling, which is what we do here. You can macroexpand a `(>defn ...)`\n       for details.\"\n       [conformed-fn-tail-or-tails malli?]\n       (case (key conformed-fn-tail-or-tails)\n         :arity-1\n         (when-let [gspec (-> conformed-fn-tail-or-tails val :gspec)]\n           (gspec->fspec*\n             (process-args (val conformed-fn-tail-or-tails))\n             gspec\n             {::malli?                malli?\n              ::external-consumption? true}))\n         :arity-n\n         (when (some :gspec (val conformed-fn-tail-or-tails))\n           (if malli?\n             (let [fspecs (map (partial get-fspecs true) (val conformed-fn-tail-or-tails))]\n               `[:function ~@(mapcat second fspecs)])\n             (let [fspecs           (map (partial get-fspecs false) (val conformed-fn-tail-or-tails))\n                   arg-specs        (mapcat (fn [[arity spec]]\n                                              [arity (or (get-spec-part :args spec) `empty?)])\n                                      fspecs)\n                   fn-param         (gensym \"p1__\")\n                   multi-ret-specs  (when (->> fspecs\n                                            (map #(get-spec-part :ret (second %)))\n                                            distinct\n                                            count\n                                            (not= 1))\n                                      (mapcat (fn [[arity spec]]\n                                                [arity `(s/valid? ~(get-spec-part :ret spec)\n                                                          (:ret ~fn-param))])\n                                        fspecs))\n                   get-fn-clause    (partial get-spec-part :fn)\n                   fn-specs         (when (->> fspecs (map second) (some get-fn-clause))\n                                      (mapcat (fn [[arity spec]]\n                                                [arity (if-let [fn-spec (get-fn-clause spec)]\n                                                         `(s/valid? ~fn-spec ~fn-param)\n                                                         true)])\n                                        fspecs))\n                   ;; NOTE: destructure args and ret in the arg vec\n                   multi-ret-clause (when multi-ret-specs\n                                      `(fn ~'valid-multi-arity-ret? [~fn-param]\n                                         (case (-> ~fn-param :args key)\n                                           ~@multi-ret-specs)))\n                   multi-fn-clause  (when fn-specs\n                                      `(fn ~'valid-multi-arity-fn? [~fn-param]\n                                         (case (-> ~fn-param :args key)\n                                           ~@fn-specs)))]\n               ;; Using s/or here even though s/alt seems to be more common\n               ;; for multi-arity specs in the wild. The spec error reporting\n               ;; is much better and it's immediately clear what didn't match.\n               (concat [:args `(s/or ~@arg-specs)]\n                 (when-not multi-ret-clause\n                   [:ret (get-spec-part :ret (-> fspecs first second))])\n                 (when (or multi-ret-clause multi-fn-clause)\n                   [:fn (if multi-fn-clause\n                          (if multi-ret-clause\n                            `(s/and ~multi-ret-clause ~multi-fn-clause)\n                            multi-fn-clause)\n                          multi-ret-clause)])))))))))\n\n#?(:clj\n   (defn generate-fdef\n     [env forms]\n     (let [{[type fn-name] :name bs :bs} (s/conform ::>fdef-args forms)]\n       (if (:guardrails/malli? env)\n         (when (= type :sym)\n           `(malli.core/=> ~fn-name [~@(generate-external-fspec bs true)]))\n         (case type\n           :sym `(s/fdef ~fn-name ~@(generate-external-fspec bs false))\n           :key `(s/def ~fn-name (s/fspec ~@(generate-external-fspec bs false))))))))\n\n;; The now-nano was taken from taoensso/encore. I didn't want to include that entire dep just for this one\n;; function. The are covered by Eclipse Public License - v 1.0. See https://github.com/taoensso/encore\n#?(:cljs (def ^:no-doc js-?window (when (exists? js/window) js/window))) ; Present iff in browser\n\n#?(:cljs\n   (defn oget \"Like `get` for JS objects.\"\n     ([k] (gobj/get js-?window (name k)))\n     ([o k] (gobj/get o (name k) nil))\n     ([o k not-found] (gobj/get o (name k) not-found))))\n\n#?(:clj\n   (defn now-nano\n     \"Returns current value of best-resolution time source as nanoseconds.\"\n     {:inline (fn [] `(System/nanoTime))}\n     ^long [] (System/nanoTime))\n\n   :cljs\n   (def now-nano\n     \"Returns current value of best-resolution time source as nanoseconds.\"\n     (let [perf (oget js-?window \"performance\")\n           pf   (when perf\n                  (or\n                    (oget perf \"now\") (oget perf \"mozNow\") (oget perf \"webkitNow\")\n                    (oget perf \"msNow\") (oget perf \"oNow\")))]\n       (if (and perf pf)\n         (fn [] (Math/floor (* 1e6 (.call pf perf))))\n         (fn [] (* 1e6 (js/Date.now)))))))\n\n#?(:clj\n   (defn- throttle-form [add-throttle?]\n     (if add-throttle?\n       `(let [ltime#     (long (deref ~'__gr_vstart-time))\n              now-ns#    (now-nano)\n              elapsed#   (- now-ns# ltime#)\n              throttle?# (> (/ (double (deref ~'__gr_vncalls)) elapsed#) ~'__gr_max-calls-per-ns)]\n          (when-not throttle?#\n            (vswap! ~'__gr_vncalls (comp inc long)))\n          (when (> elapsed# ~'__gr_reset-stats-ns)\n            (vreset! ~'__gr_vstart-time now-ns#)\n            (vreset! ~'__gr_vncalls 0))\n          throttle?#)\n       false)))\n\n#?(:clj\n   (defn- process-defn-tail\n     \"This does the top-level Guardrails procesing of function tails (args,\n     gspec, body) entirely unconcerned with function arity.\"\n     [cfg fn-tail]\n     (let [{:keys                                                      [env fn-name]\n            {max-checks-per-second :guardrails/mcps\n             :guardrails/keys      [use-stderr? compact? trace? stack-trace]\n             :keys                 [throw? tap>? disable-exclusions?]} :config} cfg\n           {:guardrails/keys [validate-fn explain-fn humanize-fn malli?]} env\n           cljs?           (cljs-env? env)\n\n           {:com.fulcrologic.guardrails.core/keys\n            [conformed-var-arg arg-syms raw-arg-vec]\n            :as processed-params}\n           (process-args fn-tail)\n\n           {:keys [body args gspec]} fn-tail\n           fspec           (when gspec\n                             (gspec->fspec* processed-params gspec {::malli? malli?}))\n           [prepost orig-body-forms] (case (key body)\n                                       :prepost+body [(-> body val :prepost)\n                                                      (-> body val :body)]\n                                       :body [nil (val body)])\n           {:keys [file line]} (if cljs?\n                                 (meta fn-name)\n                                 {:file #?(:clj *file* :cljs \"N/A\")\n                                  :line (some-> env :form meta :line)})\n           body-forms      orig-body-forms\n           where           (str file \":\" line \" \" fn-name \"'s\")\n           argspec         (gensym \"argspec\")\n           nspc            (if cljs? (-> env :ns :name str) (name (ns-name *ns*)))\n           opts            {:fn-name                where\n                            :guardrails/fqnm        (str (str nspc) \"/\" (str fn-name))\n                            :guardrails/trace?      trace?\n                            :guardrails/compact?    compact?\n                            :guardrails/stack-trace stack-trace\n                            :guardrails/use-stderr? use-stderr?\n                            :guardrails/malli?      malli?\n                            :tap>?                  tap>?\n                            :throw?                 throw?\n                            :vararg?                (boolean conformed-var-arg)\n                            :humanize-opts          (if malli?\n                                                      (get (gr.cfg/get-env-config) :malli {})\n                                                      (get (gr.cfg/get-env-config) :expound {}))\n                            :guardrails/validate-fn validate-fn\n                            :guardrails/explain-fn  explain-fn\n                            :guardrails/humanize-fn humanize-fn}\n           exclusion-coord (if disable-exclusions?\n                             [:undefined/function :undefined]\n                             [(keyword nspc (name fn-name)) (keyword nspc)])\n           args-check      `(when ~argspec\n                              (when-not (gr.cfg/-excluded? ~(first exclusion-coord) ~(second exclusion-coord))\n                                (run-check ~(assoc opts :args? true) ~argspec ~arg-syms)))\n           retspec         (gensym \"retspec\")\n           ret             (gensym \"ret\")\n           add-throttling? (number? max-checks-per-second)\n           ret-check       `(when (and ~retspec\n                                    (not (gr.cfg/-excluded? ~(first exclusion-coord) ~(second exclusion-coord))))\n                              (run-check ~(assoc opts :args? false) ~retspec ~ret))\n           real-function   `(fn ~'guardrails-wrapper ~raw-arg-vec ~@body-forms)\n           f               (gensym \"f\")\n           call            (if (boolean conformed-var-arg)\n                             `(cond\n                                (map? ~(last arg-syms)) (apply ~f ~@(butlast arg-syms) (apply concat (last ~arg-syms)))\n                                (seq ~(last arg-syms)) (apply ~f ~@arg-syms)\n                                :else (~f ~@(butlast arg-syms)))\n                             `(~f ~@arg-syms))\n           throttle-form   (throttle-form add-throttling?)\n           bnd             (if cljs? `with-redefs 'clojure.core/binding)]\n       `(~@(remove nil? [raw-arg-vec prepost])\n          (~bnd [utils/*backtrace* (or utils/*backtrace* (utils/new-backtrace 10))]\n            (utils/backtrace-enter ~(str nspc) ~(str fn-name) ~@arg-syms)\n            (try\n              (let [{~argspec :args ~retspec :ret} ~fspec\n                    throttle# ~throttle-form]\n                (when-not throttle#\n                  ~args-check)\n                (let [~f ~real-function\n                      ~ret ~call]\n                  (when-not throttle#\n                    ~ret-check)\n                  ~ret))\n              (finally\n                (utils/backtrace-exit))))))))\n\n#?(:clj\n   (defn- generate-defn\n     [forms private env]\n     (let [conformed-gdefn    (s/conform ::>defn-args forms)\n           conformed-fn-tails (:bs conformed-gdefn)\n           arity              (key conformed-fn-tails)\n           fn-name            (:name conformed-gdefn)\n           docstring          (:docstring conformed-gdefn)\n           {:guardrails/keys [malli?]} env\n           raw-meta-map       (merge\n                                (:meta conformed-gdefn)\n                                {::guardrails true})\n           ;;; Assemble the config\n           {max-checks-per-second :guardrails/mcps\n            :keys                 [defn-macro] :as config}\n           (gr.cfg/merge-config env (meta fn-name) raw-meta-map)\n\n           add-throttling?    (number? max-checks-per-second)\n           defn-sym           (cond\n                                defn-macro (with-meta (symbol defn-macro) {:private private})\n                                private 'defn-\n                                :else 'defn)\n           ;;; Code generation\n           external-fdef-body (generate-external-fspec conformed-fn-tails malli?)\n           fdef               (when external-fdef-body\n                                (if malli?\n                                  ;; REVIEW: Since we're already adding the\n                                  ;; Malli function schema to the metadata\n                                  ;; below, there's probably no need to define\n                                  ;; it here as well.\n                                  nil #_`(malli.core/=> ~fn-name [~@external-fdef-body])\n                                  `(s/fdef ~fn-name ~@external-fdef-body)))\n           meta-map           (merge\n                                raw-meta-map\n                                (when malli? {:malli/schema `[~@external-fdef-body]}))\n           processed-fn-tails (let [process-cfg      {:env     env\n                                                      :config  config\n                                                      :fn-name fn-name}\n                                    fn-tail-or-tails (val conformed-fn-tails)]\n                                (case arity\n                                  :arity-1 (process-defn-tail process-cfg fn-tail-or-tails)\n                                  :arity-n (map (partial process-defn-tail process-cfg) fn-tail-or-tails)))\n           main-defn          `(~@(remove nil? [defn-sym fn-name docstring meta-map])\n                                 ~@processed-fn-tails)\n           throttle-decls     (if add-throttling?\n                                `[~'__gr_vncalls (volatile! 0)\n                                  ~'__gr_vstart-time (volatile! 0)\n                                  ~'__gr_reset-stats-ns 5e9\n                                  ~'__gr_max-calls-per-ns (/ ~max-checks-per-second 9.0e8) ; fudge factor for nano timing inaccuracies\n                                  ~'__gr_actual-calls (volatile! 0)]\n                                [])]\n       `(let ~throttle-decls\n          ~@(remove nil? [fdef main-defn])))))\n\n#?(:clj\n   ;;;; Main macros and public API\n   (s/def ::>defn-args\n     (s/and seq?                                            ; REVIEW\n       (s/cat :name simple-symbol?\n         :docstring (s/? string?)\n         :meta (s/? map?)\n         :bs (s/alt :arity-1 ::args+gspec+body\n               ;; TODO: add tail-attr-map support after this\n               :arity-n (s/+ (s/and seq? ::args+gspec+body)))))))\n\n#?(:clj\n   (defn >defn* [env form body {:keys [private? guardrails/malli?] :as opts}]\n     (let [cfg  (gr.cfg/get-env-config)\n           mode (gr.cfg/mode cfg)]\n       (cond\n         (not cfg) (clean-defn 'defn body)\n         (= :pro mode) `(do\n                          (defn ~@body)\n                          ~(gr.pro/>defn-impl env body opts))\n         (#{:runtime :all} mode)\n         (cond-> (remove nil? (generate-defn body private? (assoc env :form form :guardrails/malli? malli?)))\n           (cljs-env? env) clj->cljs\n           (= :all mode) (-> vec (conj (gr.pro/>defn-impl env body opts)) seq))))))\n\n#?(:clj\n   (defmacro >defn\n     \"Like defn, but requires a (nilable) gspec definition and generates\n     additional `s/fdef` function spec definition and validation code.\"\n     {:arglists '([name doc-string? attr-map? [params*] gspec prepost-map? body?]\n                  [name doc-string? attr-map? ([params*] gspec prepost-map? body?) + attr-map?])}\n     [& forms]\n     (let [env (merge &env `{:guardrails/validate-fn s/valid?\n                             :guardrails/explain-fn  s/explain-data\n                             :guardrails/humanize-fn humanize-spec})]\n       (>defn* env &form forms {:private? false}))))\n\n#?(:clj\n   (s/fdef >defn :args ::>defn-args))\n\n#?(:clj\n   (defmacro >defn-\n     \"Like defn-, but requires a (nilable) gspec definition and generates\n     additional `s/fdef` function spec definition and validation code.\"\n     {:arglists '([name doc-string? attr-map? [params*] gspec prepost-map? body?]\n                  [name doc-string? attr-map? ([params*] gspec prepost-map? body?) + attr-map?])}\n     [& forms]\n     (let [env (merge &env `{:guardrails/validate-fn s/valid?\n                             :guardrails/explain-fn  s/explain-data\n                             :guardrails/humanize-fn humanize-spec})]\n       (>defn* env &form forms {:private? true}))))\n\n(comment\n  (>defn- test-function [] [=> nil?] nil)\n  (clojure.pprint/pprint (meta #'test-function))\n  (assert (true? (:private (meta #'test-function))))\n\n  (>defn test-function2 [] [=> nil?] nil)\n  (assert (nil? (:private (meta #'test-function2)))))\n\n#?(:clj\n   (s/fdef >defn- :args ::>defn-args))\n\n#?(:clj\n   (defmacro >def\n     \"Just like Clojure s/def, except there is a stub for this in the `noop`\n     namespace, which you can substitute via CLJS build parameters, turning it\n     into code that can be dead-code eliminated in a CLJS production build. See\n     the docstring for the `com.fulcrologic.guardrails.noop` namespace.\"\n     ([k spec-form]\n      (cond-> `(s/def ~k ~spec-form)\n        (cljs-env? &env) clj->cljs))\n     ([k _doc spec-form]\n      `(>def ~k ~spec-form))))\n\n#?(:clj\n   (s/def ::>fdef-args\n     (s/and seq?                                            ;REVIEW\n       (s/cat :name (s/or :sym symbol? :key qualified-keyword?)\n         :bs (s/alt :arity-1 ::args+gspec+body\n               :arity-n (s/+ (s/and seq? ::args+gspec+body)))))))\n\n#?(:clj\n   (defmacro >fdef\n     \"Defines an fspec using gspec syntax â€“ pretty much a `>defn` without the body.\n\n     `name` can be a symbol or a qualified keyword, depending on whether the\n     fspec is meant to be registered as a top-level fspec (=> s/fdef fn-sym ..)\n     or used in other specs (=> s/def ::spec-keyword (s/fspec ...)). \"\n     {:arglists '([name [params*] gspec]\n                  [name ([params*] gspec) +])}\n     [& forms]\n     (when-let [cfg (gr.cfg/get-env-config)]\n       `(do\n          ~(when (#{:pro :all} (gr.cfg/mode cfg))\n             (gr.pro/>fdef-impl &env forms))\n          ~(cond-> (remove nil? (generate-fdef &env forms))\n             (cljs-env? &env) clj->cljs)))))\n\n#?(:clj\n   (s/fdef >fdef :args ::>fdef-args))\n\n#?(:clj\n   ;; TODO: clean >fn (no gspec)\n   (defmacro >fn [& forms] `(fn ~@forms)))\n\n#?(:clj\n   (defmacro >fspec [& forms]\n     (gr.pro/>fspec-impl &env forms)))\n","~:reader-features",["^F",["~:cljs"]],"~:used-var-namespaces",["^F",["^V","~$goog.string","^1E","^1F","~$js","~$Math","^1K","^1M"]],"~:cljc",true,"~:source-map-compact",["^ ","mappings",";;;;AA2BA,2CAAA,3CAAKA;AACL,wCAAA,xCAAKC;AACL,wCAAA,xCAAKC;AAEL,AAAmBC,uDAAgB,AAACC,6CAwkFhC,AAAA4I;AAtkFJ;;;;6DAAA,7DAAM3I,kIAGHC;AAHH,AAIE,OAACC,mDAAMJ,qDAAgB,AAACK,gDAAQC,eAAKH;;AAEvC;;;;;6DAAA,7DAAMI,kIAIHJ;AAJH,AAKE,OAACC,mDAAMJ,qDAAgBQ;;AAczB,qDAAA,rDAAOC;AAAP,AAA6B,uBAAA,AAAAC,hBAACC,gCAAOX;;AAGrC,4CAAA,5CAAOY,gGAAWC;AAAlB,AACE,IAAAC,aACiCD;IADjCC,iBAAA,AAAAC,4BAAAD;YAAA,AAAAE,4CAAAF,eAAA,nEAAcG;iBAAd,AAAAD,4CAAAF,eAAA,xEAAoBI;WAApB,AAAAF,4CAAAF,eAAA,lEAAyBK;oBAAzB,AAAAH,4CAAAF,eAAA,3EAA8BM;kBAA9B,AAAAJ,4CAAAF,eAAA,zEAAsCO;gBAAtC,AAAAL,4CAAAF,eAAA,vEAA4CQ;iBAA5C,AAAAN,4CAAAF,eAAA,xEACcS;kBADd,AAAAP,4CAAAF,eAAA,zEACyBU;AADzB,AAEE,yGAAA,lDACE,AAACC,0BAAe,AAACC,eAAKT,yDACtB,AAACU,gBAAMR,mDACP,iBAAAS,qBAAeV;AAAf,AAAA,oBAAAU;AAAA,AAAA,UAAAA,NAAWC;AAAX,AACE,WAAA,iDAAU,AAACC,0EAAiBD;;AAD9B;;;;AAOH,yCAAA,zCAAME;AAAN,AACE,OAACC,kBAAQ,KAAAC;;AAEd,AAAKC,sCAAI,EAAA,QAAAC,iCAAAC,sCAAAC,oCAAA,AAAA,KAAAC,cAAA;AAAA,AAAAC;GAAA,AAAA,iPAAA,wCAAA,gDAAA,qDAAA,sDAAA,iEAAA,yDAAA,oDAAA,6DAAA,oDAAA,6DAAA,mDAAA,sDAAA,AAAA,kEAAA,AAAA,yDAAA,AAAA,iBAAA,AAAA,GAAA,AAAA,EAAA,AAAA,MAAA,AAAA,MAAA,AAAA,+DAAA,AAAA,8JAAA,AAAA,6EAAA,EAAAA,mBAAA,AAAA,AAAAA,iCAAA,UAAA;AAET,gDAAA,qEAAAC,rHAAME,wGAAeC;AAArB,AAAA,IAAAF,aAAAD;IAAAC,iBAAA,AAAA1B,4BAAA0B;sBAAAA,lBAA8EM;qBAA9E,AAAA/B,4CAAAyB,eAAA,5EAAqDG;kBAArD,AAAA5B,4CAAAyB,eAAA,zEAA8DI;WAA9D,AAAA7B,4CAAAyB,eAAA,lEAAoEK;AAApE,AACE,oBAAIF;AACF,IAAMI,QAAM,6CAAA,7CAACC,gIAAM,kBAAIJ,aACF,sDAAA,NAAKC,uBACL,sDAAA,NAAKA,6BAKV,AAACe,+CAAO,WAAKC;AAAL,AACE,IAAAC,mBACE,iCAAA,jCAACC,+BAAcF;AADjB,AAAA,GAAAC;AAAAA;;AAAA,IAAAA,uBAEE,qBAAA,rBAACE,uCAA8BH;AAFjC,AAAA,oBAAAC;AAAAA;;AAGE,4BAAA,rBAACE,6BAAoBH;;;GAPjC,AAACZ,2BACC,iBAAAC,mBAAA,KAAAC;AAAA,AAAA,IAAAC,kDAAAC;IAAAC,6CAAAC;IAAAC,kDAAA;IAAAC,6CAAA,WAAAC;AAAA,AAAA,OAAAR,wBAAAQ;;AAAA,AAAA,CAAAL,sCAAAG;;AAAA,CAAAD,iCAAAE;;AAAA,IAAA,AACE,AAAC,AAACE,6BAAmBb,iBAAiBJ;UADxC,AAAA,CAAAa,iCAAAD;;AAAA,CAAAD,sCAAAD;;AAAA,uDAAAF;;AALlB,AAYE,WAAA,iDAAU,kDAAA,lDAACe,yDAAgBlB;;AAC7B,IAAAG,mBAAA,KAAAC;AAAA,AAAA,IAAAe,kDAAAb;IAAAc,6CAAAZ;IAAAa,kDAAA;IAAAC,6CAAA,WAAAX;AAAA,AAAA,OAAAR,wBAAAQ;;AAAA,AAAA,CAAAL,sCAAAe;;AAAA,CAAAb,iCAAAc;;AAAA,IAAA,AACE,AAAC,AAACV,6BAAmBb,iBAAiBJ;UADxC,AAAA,CAAAa,iCAAAY;;AAAA,CAAAd,sCAAAa;;AAAA,uDAAAhB;;;AAGJ,4CAAA,oDAAAoB,hGAAME,yGAGWY,KACAC;AAJjB,AAAA,IAAAd,aAAAD;IAAAC,iBAAA,AAAAzD,4BAAAyD;cAAAA,VAEmCY;wBAFnC,AAAApE,4CAAAwD,eAAA,/EAAoDG;iBAApD,AAAA3D,4CAAAwD,eAAA,xEAA4EK;WAA5E,AAAA7D,4CAAAwD,eAAA,lEAAuF1B;mBAAvF,AAAA9B,4CAAAwD,eAAA,1EACsEU;oBADtE,AAAAlE,4CAAAwD,eAAA,3EACwDS;kBADxD,AAAAjE,4CAAAwD,eAAA,zEAC0C3B;mBAD1C,AAAA7B,4CAAAwD,eAAA,1EAAoCE;cAApC,AAAA1D,4CAAAwD,eAAA,rEAC6EW;kBAD7E,AAAAnE,4CAAAwD,eAAA,zEAA4FM;oBAA5F,AAAA9D,4CAAAwD,eAAA,3EACgDQ;qBADhD,AAAAhE,4CAAAwD,eAAA,5EAA2C5B;qBAA3C,AAAA5B,4CAAAwD,eAAA,5EACoCO;kBADpC,AAAA/D,4CAAAwD,eAAA,zEAAgEI;AAAhE,AAKE,IAAMW,cAAgB,AAACxD;IACjByD,qBAAgB,iBAAAC,oBAAK5C;AAAL,AAAA,oBAAA4C;AAAWT;;AAAXS;;;IAChBC,aAAgB,2EAAA,zDAAIF,oBAAO,AAACG,eAAK,AAACC,cAAIN;IACtCO,sBAAgB,kBAAIL,oBACF,EAAI,AAACM,qBAAKJ,aACR,AAACzC,6CAAK,AAAC8C,cAAI,AAACC,kBAAQV,QAAQ,AAACW,kBAAQ,AAACL,cAAIF,cAC1C,AAACzC,6CAAK,AAAC8C,cAAI,AAACC,kBAAQV,QAAQ,AAACM,cAAIF,cACnCJ;IAClBY,wBAAgB,6CAAA,7CAACjG;AARvB,AAaE,IAAA,AACE,oBAAU,CAAC2E,4CAAAA,sEAAAA,5BAAYS,kDAAAA,7CAAKQ,kDAAAA;AAA5B;AAAA,AACE,IAAAO,wCAAUE;IAAVD,wCAAgB,kBAAI1B,mBAAgC2B,0BAAOA;AAA3D,AAAA,6BAAAD,5BAAUC;;AAAV,IAAA,AACE,IAAM3D,qBAAc,CAACkC,2CAAAA,qEAAAA,5BAAWQ,iDAAAA,5CAAKQ,iDAAAA;IAC/BU,sBAAc,iBAAAC,WAAa7D;IAAb8D,WAA0B,mEAAA,kJAAA,6EAAA,lSAACC,qDAAMzB,+FACgBrC,yIACJE,+EACCD;AAH9C,AAAA,8FAAA2D,SAAAC,kCAAAD,SAAAC,1IAAC3B,4CAAAA,+DAAAA;;IAIf6B,UAAc,gDAAA,GAAA,nDAACC;IACfC,oBAAc,AAACC,qDACC,IAAA,8DAEEP,sBACFI,QAAEvB;IAClB2B,gBAAc,AAACtG;AAXrB,AAYE,AAACuG,gDAAqBlE,KAAK6D;;AAC3B,oBAAM,iBAAAlB,oBAAKvD;AAAL,AAAA,oBAAAuD;AAASV;;AAATU;;;AAAN,AACE,IAAAwB,iBAAA,2CAAA,mHAAA,iQAAA,4GAAA,4IAAA,9fACwBnE,8HACA,+BAAA,qDAAA,lEAAID,6NACJwC,8HACA1C,8IACA,AAACuE,8CAAaX;AALtC,AAAA,uIAAAU,gEAAAA,tMAAC/E,oEAAAA,oFAAAA;;AADH;;AAOA,oBAAIgD;AACF,AAACiC,sBAAOjB,sBACN,AAACU,gDAAQ,iBAAAQ,WAASP;AAAT,AAAA,oBAAqBE;AACnB,WAAA,qHAAAK,3DAAmBL;;AADrBK;;KAEP,oBAAA,2CAAA,qDAAA,+HAAA,sHAAA,iQAAA,4GAAA,oIAAA,2CAAA,r4BAACC,iWAGyBlC,iIACA,+BAAA,qDAAA,lEAAItC,6NACJwC,mHACA0B,sKAEVlB;;AACpB,AAACyB,8EAAqBT;;UAlC5B,AAAA,6BAAAT,5BAAUE;;gBAFd,cAAAH,VAqC2CQ;AArC3C,AAsCI,IAAMY,kBAAkB,AAACC,qBAAWb;IAC9Bc,+BAAkB,iBAAAhC,oBAAK8B;AAAL,AAAA,oBAAA9B;AACE,IAAA1B,mBAAI,kBAAA,lBAAC2D,2CAAkCH;AAAvC,AAAA,oBAAAxD;AAAAA;;AAAA,IAAAA,uBACE,kBAAA,lBAAC2D,8BAAqBH;AADxB,AAAA,oBAAAxD;AAAAA;;AAAA,IAAAA,uBAEE,kBAAA,lBAAC2D,mCAA0BH;AAF7B,AAAA,oBAAAxD;AAAAA;;AAGE,yBAAA,lBAAC2D,mCAA0BH;;;;;AAJ/B9B;;;IAKlBkC,0BAAkB,kBAAIF,8BACF,IAAA,0EAAA,kEAAA,xEAA6B3E,uDAAUyE,+FAEvC,IAAA,oFAAA,NAAuCzE,uDAAUyE;AAT3E,AAUE,oBAAIrC;AACF,AAACiC,sBAAOjB,sBACN,wEAAA,2CAAA,qDAAA,wHAAA,sHAAA,iQAAA,vpBAACU,gDAAQe,8VAGkBxC,iIACA,+BAAA,qDAAA,lEAAItC,kPACJ8D;;AAC7B,AAACW,8EAAqBK;;UAxD9B,AA0DI,IAAMC,iBAAS,CAAG,AAAC7F,2CAAQwD;AAA3B,AACE,GAAM,kBAAA,jBAAGqC;AAAT,AACE,sVAAA,tVAACN,8EAAqB,IAAA,iEAAA,gHAAA,qEAAA,9LAAiBnC,yDAAY,+BAAA,iBAAA,9BAAItC,mGAA+C+E,mCAChGxC;;AAFR;;AAGN,oBAAA,AAAA1E,gBAAOwF;AAAP,AACE,MAAA,AAAAxF,gBAAQwF;;AADV;;AAhFJ;;AAonBS,AAAc2B,mDAAW,mCAAA,OAAA,xCAAM,QAAAC,yBAAoBA;AAGzD,AAAA;;;uCAAA,+CAAAC,tFAAME;AAAN,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,mEAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,mEAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,mEAAA,CAAA,UAAA,MAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,AAAA,CAAA,kBAAA,AAAA,uBAAA;;;;;AAAA,CAAA,qEAAA,rEAAMD,gFACFE;AADJ,AACO,OAACC,4DAASP,iDAAW,AAACnG,eAAKyG;;;AADlC,CAAA,qEAAA,rEAAMF,gFAEFI,EAAEF;AAFN,AAES,uFAAA,hFAACC,4DAASC,EAAE,AAAC3G,eAAKyG;;;AAF3B,CAAA,qEAAA,rEAAMF,gFAGFI,EAAEF,EAAEG;AAHR,AAGmB,OAACF,4DAASC,EAAE,AAAC3G,eAAKyG,GAAGG;;;AAHxC,CAAA,+DAAA,/DAAML;;AAAN,AAYA;;;AAAKM,2CAEH,iBAAMC,OAAK,oHAAA,pHAACC,mEAAKZ;IACXa,KAAK,wBAAA,NAAMF,MACJ,iBAAAzE,mBACE,wEAAA,xEAAC0E,mEAAKD;AADR,AAAA,oBAAAzE;AAAAA;;AAAA,IAAAA,uBACoB,wEAAA,xEAAC0E,mEAAKD;AAD1B,AAAA,oBAAAzE;AAAAA;;AAAA,IAAAA,uBACyC,wEAAA,xEAAC0E,mEAAKD;AAD/C,AAAA,oBAAAzE;AAAAA;;AAAA,IAAAA,uBAEE,wEAAA,xEAAC0E,mEAAKD;AAFR,AAAA,oBAAAzE;AAAAA;;AAEsB,+EAAA,xEAAC0E,mEAAKD;;;;;KAH9B;AADX,AAKE,oBAAI,iBAAA/C,oBAAK+C;AAAL,AAAA,oBAAA/C;AAAUiD;;AAAVjD;;;AACF;AAAA,AAAO,OAACkD,WAAW,CAAA,YAAO,AAAOD,QAAGF;;;AACpC;AAAA,AAAO,QAAA,YAAO,AAACI;;;;AAiNxB","names",["com.fulcrologic.guardrails.core/=>","com.fulcrologic.guardrails.core/|","com.fulcrologic.guardrails.core/<-","com.fulcrologic.guardrails.core/!global-context","cljs.core.atom","com.fulcrologic.guardrails.core/enter-global-context!","ctx","cljs.core.swap_BANG_","cljs.core.partial","cljs.core/cons","com.fulcrologic.guardrails.core/leave-global-context!","cljs.core/rest","com.fulcrologic.guardrails.core/get-global-context","cljs.core/deref","cljs.core/first","com.fulcrologic.guardrails.core/output-fn","data","map__35470","cljs.core/--destructure-map","cljs.core.get","level","?err","msg_","?ns-str","?file","hostname_","timestamp_","?line","clojure.string/upper-case","cljs.core/name","cljs.core/force","temp__5825__auto__","err","com.fulcrologic.guardrails.utils.stacktrace","com.fulcrologic.guardrails.core/now-ms","cljs.core/inst-ms","js/Date","com.fulcrologic.guardrails.core/tap","js/cljs","js/cljs.core","js/cljs.core.tap>","cljs.core/Var","cljs.core/tap>","p__35479","map__35480","com.fulcrologic.guardrails.core/humanize-spec","explain-data","compact?","args?","fqnm","expound-options","lines","cljs.core.into","clojure.string/split-lines","sb__5795__auto__","goog.string/StringBuffer","*print-newline*-orig-val__35484","cljs.core/*print-newline*","*print-fn*-orig-val__35485","cljs.core/*print-fn*","*print-newline*-temp-val__35486","*print-fn*-temp-val__35487","x__5796__auto__","expound.alpha/custom-printer","cljs.core.remove","l","or__5142__auto__","clojure.string/includes?","cljs.core/re-matches","clojure.string.join","*print-newline*-orig-val__35488","*print-fn*-orig-val__35489","*print-newline*-temp-val__35490","*print-fn*-temp-val__35491","p__35503","map__35504","com.fulcrologic.guardrails.core/run-check","malli?","use-stderr?","validate-fn","explain-fn","humanize-fn","tap>?","vararg?","humanize-opts","throw?","fn-name","options","spec","value","start","vargs?","and__5140__auto__","varg","cljs.core/last","cljs.core/seq","specable-args","cljs.core/map?","cljs.core/vec","cljs.core/butlast","cljs.core/flatten","valid-exception","e35515","*out*-orig-val__35517","*out*-temp-val__35518","cljs.core/*out*","explain-human","G__35521","G__35522","cljs.core.assoc","e","cljs.core.ex_info","description","com.fulcrologic.guardrails.utils/problem-description","context","com.fulcrologic.guardrails.utils/record-failure","G__35524","com.fulcrologic.guardrails.utils/strip-colors","cljs.core/reset!","G__35527","cljs.core/with-meta","com.fulcrologic.guardrails.utils.report_problem","error-msg","cljs.core/ex-message","is-schema-error?","cljs.core/re-find","user-friendly-msg","duration","com.fulcrologic.guardrails.core/js-?window","js/window","var_args","G__35577","com.fulcrologic.guardrails.core/oget","js/Error","k","com.fulcrologic.guardrails.core.goog$module$goog$object.get","o","not-found","com.fulcrologic.guardrails.core/now-nano","perf","com.fulcrologic.guardrails.core.oget","pf","Math/floor","js/Date.now","cljs.core/List"]],"~:used-vars",["^F",["~$cljs.core/--destructure-map","~$clojure.string/join","~$com.fulcrologic.guardrails.core/leave-global-context!","~$com.fulcrologic.guardrails.core/!global-context","~$cljs.core/rest","~$cljs.core/ex-message","~$clojure.string/upper-case","~$js/Date","~$cljs.core/re-matches","~$cljs.core/partial","~$com.fulcrologic.guardrails.core/=>","~$cljs.core/deref","~$cljs.core/seq","~$cljs.core/last","~$cljs.core/*print-newline*","~$cljs.core/atom","~$com.fulcrologic.guardrails.core/now-nano","~$clojure.string/split-lines","~$expound.alpha/custom-printer","~$cljs.core/Var","~$com.fulcrologic.guardrails.core/output-fn","~$cljs.core/*out*","~$clojure.string/includes?","~$Math/floor","~$cljs.core/inst-ms","~$cljs.core/into","~$cljs.core/map?","~$cljs.core/reset!","~$com.fulcrologic.guardrails.core/get-global-context","~$js/Date.now","~$cljs.core/with-meta","~$js/cljs","~$cljs.core/tap>","~$com.fulcrologic.guardrails.utils/record-failure","~$cljs.core/List","~$cljs.core/swap!","~$cljs.core/get","~$cljs.core/flatten","~$cljs.core/remove","~$js/cljs.core","~$goog.string/StringBuffer","~$com.fulcrologic.guardrails.core.goog$module$goog$object.get","~$cljs.core/re-find","~$com.fulcrologic.guardrails.core/enter-global-context!","~$cljs.core/ex-info","~$cljs.core/force","~$cljs.core/vec","~$com.fulcrologic.guardrails.utils/strip-colors","~$cljs.core/*print-fn*","~$com.fulcrologic.guardrails.core/now-ms","~$com.fulcrologic.guardrails.core/js-?window","~$com.fulcrologic.guardrails.core/tap","~$cljs.core/cons","~$cljs.core/assoc","~$com.fulcrologic.guardrails.core/humanize-spec","~$cljs.core/first","~$cljs.core/butlast","~$js/window","~$com.fulcrologic.guardrails.utils/stacktrace","~$com.fulcrologic.guardrails.core/<-","~$js/cljs.core.tap>","~$com.fulcrologic.guardrails.core/run-check","~$cljs.core/name","~$com.fulcrologic.guardrails.utils/report-problem","~$com.fulcrologic.guardrails.core/|","~$com.fulcrologic.guardrails.utils/problem-description","~$js/Error","~$com.fulcrologic.guardrails.core/oget"]]],"~:cache-keys",["~#cmap",[["^20","goog/dom/tagname.js"],["5894b81ddad9694d9b92153e1834889eb8533444","~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^F",[]],"~:deps-syms",["^1I","~$goog.dom.HtmlElement"]]],["^20","expound/util.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^?"]]],["^20","cljs/spec/gen/alpha.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","~$goog.Uri"]]],["^20","goog/html/trustedtypes.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/string/stringformat.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^28"]]],["^20","cljs/env.cljc"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F"]]],["^20","goog/labs/useragent/browser.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","~$goog.labs.userAgent.util","~$goog.labs.userAgent.highEntropy.highEntropyValue","~$goog.labs.userAgent.chromiumRebrands","~$goog.asserts","~$goog.string.internal","~$goog.labs.userAgent.highEntropy.highEntropyData","~$goog.labs.userAgent"]]],["^20","goog/html/safeurl.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","~$goog.fs.url","~$goog.html.TrustedResourceUrl","~$goog.string.Const","~$goog.string.TypedString","^48"]]],["^20","goog/array/array.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47"]]],["^20","expound/problems.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","~$expound.paths","^?"]]],["^20","goog/debug/error.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/flags/flags.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/dom/nodetype.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","com/fulcrologic/guardrails/utils.cljc"],["bf1f03b8aae898a02dfb2291f9ac05d0e1ab0c97","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1M","~$clojure.walk"]]],["^20","goog/labs/useragent/highentropy/highentropyvalue.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^44","^48"]]],["^20","cljs/pprint.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1M","^28","~$goog.string.StringBuffer"]]],["^20","expound/alpha.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","~$expound.problems","^?","^1M","~$clojure.set","~$expound.printer","~$expound.util","~$expound.ansi"]]],["^20","com/fulcrologic/guardrails/core.cljc"],["bf1f03b8aae898a02dfb2291f9ac05d0e1ab0c97","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1D","^1K","^1H","^?","^1M","^1C","^1E"]]],["^20","expound/ansi.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1M"]]],["^20","goog/string/typedstring.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","com/fulcrologic/guardrails/config.cljc"],["bf1f03b8aae898a02dfb2291f9ac05d0e1ab0c97","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1K","~$cljs.env"]]],["^20","goog/object/object.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/dom/asserts.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47"]]],"~:SHADOW-TIMESTAMP",[1770361365000,1770361365000,1770361523000],["^20","goog/math/long.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","~$goog.reflect"]]],["^20","goog/html/trustedresourceurl.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","~$goog.fs.blob","^4;","~$goog.html.SafeScript","~$goog.html.trustedtypes","^4=","^4>"]]],["^20","com/fulcrologic/guardrails/registry.cljc"],["bf1f03b8aae898a02dfb2291f9ac05d0e1ab0c97","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F"]]],["^20","goog/string/internal.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/functions/functions.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/html/safestyle.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4=","~$goog.html.SafeUrl","^4>","^47","^48"]]],["^20","goog/dom/safe.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","~$goog.asserts.dom","~$goog.dom.asserts","~$goog.functions","~$goog.html.SafeHtml","^4K","~$goog.html.SafeStyle","^4M","^4<","~$goog.html.uncheckedconversions","^4=","^48"]]],["^20","goog/asserts/dom.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","~$goog.dom.TagName","^47","~$goog.dom.element"]]],["^20","expound/paths.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^?","^4E"]]],["^20","clojure/walk.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F"]]],["^20","goog/html/safehtml.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4=","^4K","^4R","~$goog.html.SafeStyleSheet","^4M","^4T","^4<","^4>","^47","~$goog.labs.userAgent.browser","~$goog.array","^1H","^48","~$goog.dom.tags","^4L"]]],["^20","goog/dom/tags.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1H"]]],["^20","goog/fs/blob.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","com/fulcrologic/guardrails/impl/externs.cljc"],["bf1f03b8aae898a02dfb2291f9ac05d0e1ab0c97","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","~$com.fulcrologic.guardrails.registry","^1K"]]],["^20","goog/asserts/asserts.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^20","goog/uri/uri.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4X","^47","~$goog.collections.maps","^28","~$goog.structs","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^20","goog/labs/useragent/highentropy/highentropydata.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^45"]]],["^20","goog/collections/maps.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","cljs/spec/alpha.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1H","^4@","~$cljs.spec.gen.alpha","^1M"]]],["^20","goog/fs/url.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/base.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",[]]],["^20","goog/structs/structs.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4X","^1H"]]],["^20","clojure/string.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^28","^4A"]]],["^20","goog/string/string.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","~$goog.dom.safe","^4S","^4=","^48"]]],["^20","goog/reflect/reflect.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/labs/useragent/util.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^48","^4:"]]],["^20","expound/printer.cljc"],["5294f6b31a2cfa6ffbe5021d9390c738fb471927","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F","^1M","^?","^A","^4C","^4E","^4F","^4?","^4@","~$goog.string.format","^28"]]],["^20","goog/string/stringbuffer.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/labs/useragent/chromium_rebrands.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","goog/labs/useragent/useragent.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","~$goog.flags"]]],["^20","goog/dom/element.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^50","^4T"]]],["^20","goog/html/uncheckedconversions.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","^4Q","^4K","^4R","^4V","^4M","^4<","^4=","^48"]]],["^20","goog/dom/htmlelement.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I"]]],["^20","cljs/core.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","~$goog.math.Long","~$goog.math.Integer","^28","^1H","^4X","^43","^4A"]]],["^20","goog/html/safescript.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4=","^4>","^4L","^47"]]],["^20","goog/html/safestylesheet.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4=","^4R","^4>","^1H","^47","^48"]]],["^20","goog/math/integer.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^4I"]]],["^20","clojure/set.cljs"],["bb708c133efd2471c681d172c839d7d979202b70","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^1F"]]],["^20","goog/uri/utils.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","^28"]]],["^20","goog/string/const.js"],["5894b81ddad9694d9b92153e1834889eb8533444","^3Z",["^ ","^3[",null,"^40",["^F",[]],"^41",["^1I","^47","^4>"]]]]],"~:clj-info",["^ ","jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/java/io.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/analyzer/passes/and_or.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/printer.cljc",1686018313000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/spec/alpha.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/source_map.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/spec/gen/alpha.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/impl/pro.cljc",1769871973000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/core.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/vendor/clojure/tools/reader/impl/errors.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/vendor/clojure/tools/reader/reader_types.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/compiler.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/spec.alpha/0.5.238/spec.alpha-0.5.238.jar!/clojure/spec/alpha.clj",1727768356000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/stacktrace.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/instant.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/pprint.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/util.cljc",1686018313000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/impl/parser.clj",1769871973000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/vendor/clojure/tools/reader.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/utils.cljc",1769871973000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/analyzer/impl/namespaces.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/analyzer/passes/lite.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/tagged_literals.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/edn.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/paths.cljc",1686018313000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/walk.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/env.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/analyzer/impl.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/externs.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/analyzer.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/vendor/clojure/data/json.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/registry.cljc",1769871973000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/vendor/clojure/tools/reader/impl/inspect.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/pprint.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/instant.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/impl/externs.cljc",1769871973000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/vendor/clojure/tools/reader/default_data_readers.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/core.cljc",1769871973000,"jar:file:/Users/davidwu/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/ansi.cljc",1686018313000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/source_map/base64_vlq.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/js_deps.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/analyzer/passes.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/source_map/base64.clj",1770361523000,"jar:file:/Users/davidwu/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/problems.cljc",1686018313000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/core.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/expound/expound/0.9.0/expound-0.9.0.jar!/expound/alpha.cljc",1686018313000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/set.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/spec.alpha/0.5.238/spec.alpha-0.5.238.jar!/clojure/spec/gen/alpha.clj",1727768356000,"jar:file:/Users/davidwu/.m2/repository/com/fulcrologic/guardrails/1.2.16/guardrails-1.2.16.jar!/com/fulcrologic/guardrails/config.cljc",1769871973000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/string.clj",1766830591000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojurescript/1.12.134/clojurescript-1.12.134.jar!/cljs/util.cljc",1770361523000,"jar:file:/Users/davidwu/.m2/repository/org/clojure/clojure/1.12.4/clojure-1.12.4.jar!/clojure/main.clj",1766830591000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",10,"^8",5,"^9",10,"^:",36],"^;",["^ ","^<","^=","^>","^?","^@","^A","^B","^C"],"^D",null,"^E",["^F",[]],"^G",["^ ","^H",["^ ","^I",["^J",[["^K","^L","^M",["^N"],"^O","^P","^Q"],["^K","^L","^M",["^J",[["^N"],"^O","^P","^Q"]],"~$+","^M"]]],"^R","Like defn-, but requires a (nilable) gspec definition and generates\n     additional `s/fdef` function spec definition and validation code.","^7",948,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^T","^U","^V","^W",true],"^X",["^ ","^I",["^J",[["^K",["^N"],"^O"],["^K",["^J",[["^N"],"^O"]],"~$+"]]],"^R","Defines an fspec using gspec syntax â€“ pretty much a `>defn` without the body.\n\n     `name` can be a symbol or a qualified keyword, depending on whether the\n     fspec is meant to be registered as a top-level fspec (=> s/fdef fn-sym ..)\n     or used in other specs (=> s/def ::spec-keyword (s/fspec ...)). ","^7",990,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^Y","^U","^V","^W",true],"^Z",["^ ","^I",["^J",[["~$k","^["],["~$k","^10","^["]]],"^R","Just like Clojure s/def, except there is a stub for this in the `noop`\n     namespace, which you can substitute via CLJS build parameters, turning it\n     into code that can be dead-code eliminated in a CLJS production build. See\n     the docstring for the `com.fulcrologic.guardrails.noop` namespace.","^7",971,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^11","^U","^V","^W",true],"~$?",["^ ","^I",["^J",[["~$&","^12"]]],"^7",205,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^13","^U","^V","^W",true],"^14",["^ ","^I",["^J",[["^K","^L","^M",["^N"],"^O","^P","^Q"],["^K","^L","^M",["^J",[["^N"],"^O","^P","^Q"]],"~$+","^M"]]],"^R","Like defn, but requires a (nilable) gspec definition and generates\n     additional `s/fdef` function spec definition and validation code.","^7",933,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^15","^U","^V","^W",true],"^16",["^ ","^I",["^J",[["^17","~$&","^18"]]],"^R","Wraps the body with an enter and leave global context.\n      Will always call leave as it uses a try finally block.\n      See `enter-global-context!`.","^7",48,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^19","^U","^V","^W",true],"^1:",["^ ","^I",["^J",[["~$&","^12"]]],"^7",1011,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^1;","^U","^V","^W",true],"^1<",["^ ","^I",["^J",[["~$&","^12"]]],"^7",1014,"^8",4,"^6","com/fulcrologic/guardrails/core.cljc","^S","^1=","^U","^V","^W",true]],"~:shadow/js-access-properties",["^F",["now"]],"^S","^V","^1>",["^ "],"^1@",null,"^1A",["^ ","^>","^?","^1B","^1C","^1D","^1D","^1E","^1E","^1F","^1F","^1G","^1H","^1I","^1I","^1H","^1H","^1J","^1E","~$s","^?","^1K","^1K","^1L","^1M","^1N","^1K","^1C","^1C","^1M","^1M","^?","^?"],"^1O",["^F",["^1P","^1Q"]],"~:shadow/js-access-global",["^F",["window","Date","Error"]],"^1R",["^ ","^1S","^1K"],"~:defs",["^ ","~$enter-global-context!",["^ ","~:protocol-inline",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",34,"^8",7,"^9",34,"^:",28,"^I",["^J",["~$quote",["^J",[["^17"]]]]],"^R","Push a global context, accessible from all threads, onto a stack. Used to add\n  information to what guardrails will report when a function failed a check."],"^S","^3?","^6","com/fulcrologic/guardrails/core.cljc","^:",28,"~:method-params",["^J",[["^17"]]],"~:protocol-impl",null,"~:arglists-meta",["^J",[null,null]],"^8",1,"~:variadic?",false,"^7",34,"~:ret-tag",["^F",[null,"~$any"]],"^9",34,"~:max-fixed-arity",1,"~:fn-var",true,"^I",["^J",["^6J",["^J",[["^17"]]]]],"^R","Push a global context, accessible from all threads, onto a stack. Used to add\n  information to what guardrails will report when a function failed a check."],"~$tap",["^ ","^S","^3G","^6","com/fulcrologic/guardrails/core.cljc","^7",78,"^8",1,"^9",78,"^:",9,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",78,"^8",6,"^9",78,"^:",9],"~:tag",["^F",["^2S","~$clj-nil"]]],"~$js-?window",["^ ","~:no-doc",true,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",726,"^8",24,"^9",726,"^:",34,"^6W",true],"^S","^3F","^6","com/fulcrologic/guardrails/core.cljc","^:",34,"^8",10,"^7",726,"^9",726,"^6T",["^F",["^29","^6U"]]],"~$now-ms",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",75,"^8",10,"^9",75,"^:",16,"^I",["^J",["^6J",["^J",[[]]]]]],"^S","^3E","^6","com/fulcrologic/guardrails/core.cljc","^:",16,"^6K",["^J",[[]]],"^6L",null,"^6M",["^J",[null,null]],"^8",4,"^6N",false,"^7",75,"^6O","^6P","^9",75,"^6Q",0,"^6R",true,"^I",["^J",["^6J",["^J",[[]]]]]],"~$oget",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",729,"^8",10,"^9",729,"^:",14,"^I",["^J",["^6J",["^J",[["~$k"],["~$o","~$k"],["~$o","~$k","~$not-found"]]]]],"^R","Like `get` for JS objects.","~:top-fn",["^ ","^6N",false,"~:fixed-arity",3,"^6Q",3,"^6K",[["~$k"],["~$o","~$k"],["~$o","~$k","^6Z"]],"^I",["^J",[["~$k"],["~$o","~$k"],["~$o","~$k","^6Z"]]],"^6M",["^J",[null,null,null]]]],"^S","^3W","^6","com/fulcrologic/guardrails/core.cljc","^:",14,"^6[",["^ ","^6N",false,"^70",3,"^6Q",3,"^6K",[["~$k"],["~$o","~$k"],["~$o","~$k","^6Z"]],"^I",["^J",[["~$k"],["~$o","~$k"],["~$o","~$k","^6Z"]]],"^6M",["^J",[null,null,null]]],"^6K",[["~$k"],["~$o","~$k"],["~$o","~$k","^6Z"]],"^6L",null,"^70",3,"^6M",["^J",[null,null,null]],"^8",4,"^6N",false,"~:methods",[["^ ","^70",1,"^6N",false,"^6T","^29"],["^ ","^70",2,"^6N",false,"^6T","^29"],["^ ","^70",3,"^6N",false,"^6T","^29"]],"^7",729,"^9",729,"^6Q",3,"^6R",true,"^I",["^J",[["~$k"],["~$o","~$k"],["~$o","~$k","^6Z"]]],"^R","Like `get` for JS objects."],"~$humanize-spec",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",80,"^8",7,"^9",80,"^:",20,"^I",["^J",["^6J",["^J",[["~$explain-data",["^ ","~:guardrails/keys",["~$compact?","~$args?","~$fqnm"],"^1V","~$expound-options"]]]]]]],"^S","^3J","^6","com/fulcrologic/guardrails/core.cljc","^:",20,"^6K",["^J",[["^73","~$p__35479"]]],"^6L",null,"^6M",["^J",[null,null]],"^8",1,"^6N",false,"^7",80,"^6O","~$string","^9",80,"^6Q",2,"^6R",true,"^I",["^J",["^6J",["^J",[["^73",["^ ","^74",["^75","^76","^77"],"^1V","^78"]]]]]]],"~$<-",["^ ","^S","^3O","^6","com/fulcrologic/guardrails/core.cljc","^7",30,"^8",1,"^9",30,"^:",8,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",30,"^8",6,"^9",30,"^:",8],"^6T","~$cljs.core/Keyword"],"~$run-check",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",98,"^8",7,"^9",98,"^:",16,"^I",["^J",["^6J",["^J",[[["^ ","^74",["~$malli?","^75","~$use-stderr?","~$validate-fn","~$explain-fn","^77","~$humanize-fn"],"~:keys",["~$tap>?","^76","~$vararg?","~$humanize-opts","~$throw?","~$fn-name"],"^1V","~$options"],"~$spec","~$value"]]]]]],"^S","^3Q","^6","com/fulcrologic/guardrails/core.cljc","^:",16,"^6K",["^J",[["~$p__35503","^7J","^7K"]]],"^6L",null,"^6M",["^J",[null,null]],"^8",1,"^6N",false,"^7",98,"^6O","^6U","^9",98,"^6Q",3,"^6R",true,"^I",["^J",["^6J",["^J",[[["^ ","^74",["^7>","^75","^7?","^7@","^7A","^77","^7B"],"^7C",["^7D","^76","^7E","^7F","^7G","^7H"],"^1V","^7I"],"^7J","^7K"]]]]]],"~$|",["^ ","^S","^3T","^6","com/fulcrologic/guardrails/core.cljc","^7",29,"^8",1,"^9",29,"^:",7,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",29,"^8",6,"^9",29,"^:",7],"^6T","^7<"],"~$leave-global-context!",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",40,"^8",7,"^9",40,"^:",28,"^I",["^J",["^6J",["^J",[["^17"]]]]],"^R","Pops a global context (see `enter-global-context!`). Should be passed the\n  same context that was pushed, although is not enforced, as it's only to be\n  easily compatible with fulcro-spec's hooks API."],"^S","^2B","^6","com/fulcrologic/guardrails/core.cljc","^:",28,"^6K",["^J",[["^17"]]],"^6L",null,"^6M",["^J",[null,null]],"^8",1,"^6N",false,"^7",40,"^6O",["^F",[null,"^6P"]],"^9",40,"^6Q",1,"^6R",true,"^I",["^J",["^6J",["^J",[["^17"]]]]],"^R","Pops a global context (see `enter-global-context!`). Should be passed the\n  same context that was pushed, although is not enforced, as it's only to be\n  easily compatible with fulcro-spec's hooks API."],"~$=>",["^ ","^S","^2J","^6","com/fulcrologic/guardrails/core.cljc","^7",28,"^8",1,"^9",28,"^:",8,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",28,"^8",6,"^9",28,"^:",8],"^6T","^7<"],"~$now-nano",["^ ","^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",741,"^8",9,"^9",741,"^:",17],"^S","^2P","^6","com/fulcrologic/guardrails/core.cljc","^:",17,"^8",4,"^7",741,"^9",741,"^6T","~$function","^R","Returns current value of best-resolution time source as nanoseconds."],"~$get-global-context",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",59,"^8",8,"^9",59,"^:",26,"~:private",true,"^I",["^J",["^6J",["^J",[[]]]]]],"^7R",true,"^S","^30","^6","com/fulcrologic/guardrails/core.cljc","^:",26,"^6K",["^J",[[]]],"^6L",null,"^6M",["^J",[null,null]],"^8",1,"^6N",false,"^7",59,"^6O",["^F",["^6P","^6U"]],"^9",59,"^6Q",0,"^6R",true,"^I",["^J",["^6J",["^J",[[]]]]]],"~$output-fn",["^ ","^6I",null,"^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",62,"^8",8,"^9",62,"^:",17,"^7R",true,"^I",["^J",["^6J",["^J",[["~$data"]]]]]],"^7R",true,"^S","^2T","^6","com/fulcrologic/guardrails/core.cljc","^:",17,"^6K",["^J",[["^7T"]]],"^6L",null,"^6M",["^J",[null,null]],"^8",1,"^6N",false,"^7",62,"^6O","^7:","^9",62,"^6Q",1,"^6R",true,"^I",["^J",["^6J",["^J",[["^7T"]]]]]],"~$!global-context",["^ ","^5",["^ ","^6","com/fulcrologic/guardrails/core.cljc","^7",32,"^8",20,"^9",32,"^:",35,"^7R",true],"^7R",true,"^S","^2C","^6","com/fulcrologic/guardrails/core.cljc","^:",35,"^8",1,"^7",32,"^9",32,"^6T","~$cljs.core/Atom"]],"^1Q",["^ ","^>","^?","^V","^V","^1B","^1C","^1F","^1F","~$s","^?","^1K","^1K","^1N","^1K","^1C","^1C","^?","^?"],"~:cljs.analyzer/constants",["^ ","^1O",["^F",["~:args","~:guardrails/args?","~$x","~:guardrails/use-stderr?","~:ret","~:throw?","~:com.fulcrologic.guardrails/validation-error","~$boolean","~:humanize-opts","~:args?","~:gen","~:msg_","^U","^S","~:com.fulcrologic.guardrails/schema-error","~:guardrails/humanize-fn","^1F","^6","^:","~:com.fulcrologic.guardrails/context","~:?file","~:fn-name","~:type","~:com.fulcrologic.guardrails/original-error","~:guardrails/malli?","~:hostname_","~:?ns-str","~:com.fulcrologic.guardrails/failure-point","^8","^34","~:com.fulcrologic.guardrails/fn-name","~:level","~:com.fulcrologic.guardrails/explain-data","~:vararg?","^7","~:?err","~:st","~$tap>","~:tap>?","~:guardrails/compact?","^9","~:cljs.analyzer/no-resolve","~:timestamp_","~:?line","~:com.fulcrologic.guardrails/val","^6T","~:guardrails/explain-fn","^I","~:guardrails/fqnm","^R","~:guardrails/validate-fn","~:com.fulcrologic.guardrails/spec","~:test","~:com.fulcrologic.guardrails/explain-human"]],"~:order",["^7[","^8G","^85","^8C","^8F","^86","^8@","^8:","^8?","^8L","^8M","^34","^8K","^U","^S","^6","^:","^8","^7","^9","^6T","^I","^R","^8S","^1F","^8H","^82","~$x","^8J","^7Y","^8P","^7Z","^8O","^80","^83","^84","^8>","^8;","^88","^8E","^8I","^8Q","^8<","^8B","^8A","^8=","^87","^7X","^8R","^8D","^8T","^89","^81","^8N"]],"^1X",["^ ","^1Q",["^F",[]],"^1P",["^F",[]]],"^1Y",[],"^1Z",["^1I","^1F","^1D","^1K","^1H","^?","^1M","^1C","^1E"]],"^U","^V","~:ns-specs",["^ "],"~:ns-spec-vars",["^F",[]],"~:compiler-options",["^3Y",[["^8X","~:static-fns"],true,["~:js-options","~:use-babel"],null,["^8X","~:lite-mode"],null,["^8X","~:shadow-tweaks"],null,["^8X","~:source-map-inline"],null,["^8X","~:shadow-optimize-constants"],null,["^8X","~:elide-asserts"],true,["^8X","~:optimize-constants"],null,["^8X","^23"],null,["^8X","~:external-config"],null,["^8X","~:tooling-config"],null,["^8X","~:emit-constants"],null,["^8X","~:load-tests"],false,["^8X","~:form-size-threshold"],null,["^8X","~:global-goog-object&array"],null,["^8X","~:data-readers"],null,["~:shadow.build/config","~:target"],"~:browser",["^8X","~:infer-externs"],"~:auto",["^8X","^25"],null,["^8Z","~:js-provider"],"~:shadow",["~:mode"],"~:release",["^8X","~:fn-invoke-direct"],null,["^8X","~:elide-to-string"],null,["^8X","~:source-map"],null]]]