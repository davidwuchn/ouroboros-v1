{"version":3,"sources":["ouroboros/frontend/ui/pages/users.cljs"],"mappings":"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","names":["ouroboros.frontend.ui.pages.users/handle-load-error","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","map__42198","cljs.core/--destructure-map","cljs.core.get","p__42199","map__42200","*after-render*-orig-val__42201","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__42202","env","*after-render*-orig-val__42203","*after-render*-temp-val__42204","temp__5825__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","page-id","error-message","state","cljs.core.swap_BANG_","cljs.core/assoc-in","ouroboros.frontend.ui.pages.users/clear-page-error","map__42205","p__42206","map__42207","*after-render*-orig-val__42208","*after-render*-temp-val__42209","*after-render*-orig-val__42210","*after-render*-temp-val__42211","cljs.core/update","cljs.core/dissoc","ouroboros.frontend.ui.pages.users/users-loading","com.fulcrologic.fulcro.dom.macro_create_element","a__38231__auto__","G__42212","cljs.core/map?","cljs.core.merge","com.fulcrologic.fulcro.dom/macro-create-element*","com.fulcrologic.fulcro.components/force-children","cljs.core.repeat","G__42213","ouroboros.frontend.ui.components.card","options__36450__auto__","_","props","com.fulcrologic.fulcro.components/wrapped-render","map__42214","com.fulcrologic.fulcro.components/props","js/ouroboros","js/ouroboros.frontend","js/ouroboros.frontend.ui","js/ouroboros.frontend.ui.pages","js/ouroboros.frontend.ui.pages.users","js/ouroboros.frontend.ui.pages.users.User","com.fulcrologic.fulcro.components/react-constructor","com.fulcrologic.fulcro.components/configure-component!","ouroboros.frontend.ui.pages.users/User","this","id","name","platform","role","created-at","last-active","ouroboros.frontend.ui.pages.users/user-table","users","columns","v","G__42216","cljs.core/Keyword","cljs.core/name","rows","cljs.core.map","u","ouroboros.frontend.ui.components/data-table","p__42217","map__42218","map__42219","js/ouroboros.frontend.ui.pages.users.UsersPage","ouroboros.frontend.ui.pages.users/UsersPage","user-count","admin-count","error","com.fulcrologic.fulcro.components.get_query","com.fulcrologic.fulcro.data-fetch/marker-table","app","route-params","com.fulcrologic.fulcro.routing.dynamic-routing/route-deferred","com.fulcrologic.fulcro.data_fetch.load_BANG_","loading?","com.fulcrologic.fulcro.data-fetch/loading?","error-msg","cljs.core.get_in","retry-handler","cljs.core/vec","cljs.core.sequence","cljs.core/seq","cljs.core.concat","cljs.core/List","cljs.core.apply","cljs.core/array-map","com.fulcrologic.fulcro.components.transact_BANG_","ouroboros.frontend.ui.components/error-state","G__42220","ouroboros.frontend.ui.components/metric-card","or__5002__auto__","ouroboros.frontend.ui.components/empty-state"],"sourcesContent":["(ns ouroboros.frontend.ui.pages.users\n  \"User management page\"\n  (:require\n   [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n   [com.fulcrologic.fulcro.dom :as dom]\n   [com.fulcrologic.fulcro.routing.dynamic-routing :as dr]\n   [com.fulcrologic.fulcro.data-fetch :as df]\n   [com.fulcrologic.fulcro.mutations :as m]\n   [ouroboros.frontend.ui.components :as ui]))\n\n;; ============================================================================\n;; Error Handling Mutation\n;; ============================================================================\n\n(m/defmutation handle-load-error [{:keys [page-id error-message]}]\n  (action [{:keys [state]}]\n          (swap! state assoc-in [:page/error page-id] error-message)))\n\n(m/defmutation clear-page-error [{:keys [page-id]}]\n  (action [{:keys [state]}]\n          (swap! state update :page/error dissoc page-id)))\n\n;; ============================================================================\n;; Loading Skeleton\n;; ============================================================================\n\n(defn users-loading []\n  (dom/div\n   (dom/h1 \"Users\")\n    ;; Stats skeleton\n   (dom/div {:className \"metrics-grid mb-3\"}\n            (repeat 2\n                    (dom/div :.metric-card\n                             (dom/div {:className \"skeleton-text\"\n                                       :style {:width \"60px\" :height \"2.5rem\" :margin \"0 auto\"}})\n                             (dom/div {:className \"skeleton-text\"\n                                       :style {:width \"100px\" :margin \"0.5rem auto 0\"}}))))\n    ;; Table skeleton\n   (ui/card {:title \"Registered Users\"}\n            (dom/div {:className \"skeleton-table\"}\n        ;; Header\n                     (dom/div {:className \"skeleton-row\"\n                               :style {:display \"flex\"\n                                       :gap \"1rem\"\n                                       :padding \"0.75rem 0\"\n                                       :borderBottom \"2px solid var(--color-border)\"\n                                       :marginBottom \"0.5rem\"}}\n                              (dom/div {:className \"skeleton-text\" :style {:width \"100px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"80px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"60px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"120px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"120px\" :fontWeight \"bold\"}}))\n        ;; Rows\n                     (repeat 5\n                             (dom/div {:className \"skeleton-row\"\n                                       :style {:display \"flex\"\n                                               :gap \"1rem\"\n                                               :padding \"0.75rem 0\"\n                                               :borderBottom \"1px solid var(--color-border)\"}}\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"100px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"80px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"60px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"120px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"120px\"}})))))))\n\n;; ============================================================================\n;; User Entity\n;; ============================================================================\n\n(defsc User\n  [this {:keys [user/id user/name user/platform user/role\n                user/created-at user/last-active]}]\n  {:query [:user/id :user/name :user/platform :user/role\n           :user/created-at :user/last-active]\n   :ident :user/id}\n  (dom/div))\n\n;; ============================================================================\n;; User Table\n;; ============================================================================\n\n(defn user-table\n  \"Table of users\"\n  [users]\n  (let [columns [{:key :name :label \"Name\"}\n                 {:key :platform :label \"Platform\"}\n                 {:key :role\n                  :label \"Role\"\n                  :format (fn [v _]\n                            (dom/span\n                             {:className (str \"badge \"\n                                              (case v\n                                                :admin \"badge-primary\"\n                                                \"badge-secondary\"))}\n                             (name v)))}\n                 {:key :created-at :label \"Created\"}\n                 {:key :last-active :label \"Last Active\"}]\n        rows (map (fn [u]\n                    {:name (:user/name u)\n                     :platform (name (:user/platform u))\n                     :role (:user/role u)\n                     :created-at (:user/created-at u)\n                     :last-active (:user/last-active u)})\n                  users)]\n    (ui/data-table\n     {:columns columns\n      :rows rows\n      :empty-message \"No users registered\"})))\n\n;; ============================================================================\n;; Main Users Page\n;; ============================================================================\n\n(defsc UsersPage\n  [this {:keys [auth/user-count auth/admin-count auth/users\n                page/error]\n         :as props}]\n  {:query [:auth/user-count\n           :auth/admin-count\n           {:auth/users (comp/get-query User)}\n           [df/marker-table :users]\n           :page/error]\n   :ident (fn [] [:page/id :users])\n   :route-segment [\"users\"]\n   :will-enter (fn [app route-params]\n                 (dr/route-deferred [:page/id :users]\n                                    (fn []\n                                      (df/load! app [:page/id :users] UsersPage\n                                                {:marker :users\n                                                 :post-mutation `dr/target-ready\n                                                 :post-mutation-params {:target [:page/id :users]}\n                                                 :fallback `handle-load-error\n                                                 :fallback-params {:page-id :users\n                                                                   :error-message \"Failed to load users data\"}}))))}\n\n  (let [loading? (df/loading? (get props [df/marker-table :users]))\n        error-msg (get-in props [:page/error :users])]\n    (cond\n      error-msg\n      (let [retry-handler #(do\n                             (comp/transact! this `[(clear-page-error {:page-id :users})])\n                             (df/load! this [:page/id :users] UsersPage\n                                       {:marker :users\n                                        :fallback `handle-load-error\n                                        :fallback-params {:page-id :users\n                                                          :error-message \"Failed to load users data\"}}))]\n        (ui/error-state\n         {:message error-msg\n          :on-retry retry-handler}))\n\n      loading?\n      (users-loading)\n\n      :else\n      (dom/div\n       (dom/h1 \"Users\")\n\n        ;; Stats\n       (dom/div {:className \"metrics-grid mb-3\"}\n                (ui/metric-card\n                 {:value (or user-count 0)\n                  :label \"Total Users\"})\n                (ui/metric-card\n                 {:value (or admin-count 0)\n                  :label \"Admins\"}))\n\n        ;; Users Table\n       (ui/card {:title \"Registered Users\"}\n                (if (seq users)\n                  (user-table users)\n                  (ui/empty-state\n                   {:icon \"Users\"\n                    :message \"No users registered yet\"})))))))\n"]}