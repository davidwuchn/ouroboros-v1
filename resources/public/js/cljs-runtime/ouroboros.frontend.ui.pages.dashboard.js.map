{"version":3,"sources":["ouroboros/frontend/ui/pages/dashboard.cljs"],"mappings":"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","names":["ouroboros.frontend.ui.pages.dashboard/handle-load-error","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","map__41584","cljs.core/--destructure-map","cljs.core.get","p__41586","map__41587","*after-render*-orig-val__41589","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__41590","env","*after-render*-orig-val__41618","*after-render*-temp-val__41619","temp__5825__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","page-id","error-message","state","cljs.core.swap_BANG_","cljs.core/assoc-in","ouroboros.frontend.ui.pages.dashboard/clear-page-error","map__41643","p__41650","map__41652","*after-render*-orig-val__41655","*after-render*-temp-val__41656","*after-render*-orig-val__41661","*after-render*-temp-val__41662","cljs.core/update","cljs.core/dissoc","p__41671","map__41679","ouroboros.frontend.ui.pages.dashboard/error-state","message","props","retry-fn","com.fulcrologic.fulcro.dom.macro_create_element","a__38231__auto__","G__41683","cljs.core/map?","cljs.core.merge","com.fulcrologic.fulcro.dom/macro-create-element*","G__41686","ouroboros.frontend.ui.components/button","ouroboros.frontend.ui.pages.dashboard/metric-skeleton","G__41702","G__41697","p__41712","map__41713","ouroboros.frontend.ui.pages.dashboard/card-skeleton","title","metric-count","ouroboros.frontend.ui.components.card","G__41719","cljs.core.map","i","cljs.core.range","ouroboros.frontend.ui.pages.dashboard/dashboard-loading","G__41724","com.fulcrologic.fulcro.components/force-children","p__41735","map__41736","ouroboros.frontend.ui.pages.dashboard/system-health-card","healthy?","current-state","G__41747","ouroboros.frontend.ui.components/metric-card","cljs.core/count","p__41757","map__41758","ouroboros.frontend.ui.pages.dashboard/telemetry-summary-card","total-events","tool-invocations","errors","G__41767","or__5002__auto__","p__41783","map__41785","ouroboros.frontend.ui.pages.dashboard/users-summary-card","user-count","admin-count","G__41791","p__41800","map__41808","ouroboros.frontend.ui.pages.dashboard/sessions-summary-card","session-count","G__41819","options__36450__auto__","p__41899","map__41900","com.fulcrologic.fulcro.components/wrapped-render","map__41916","com.fulcrologic.fulcro.components/props","js/ouroboros","js/ouroboros.frontend","js/ouroboros.frontend.ui","js/ouroboros.frontend.ui.pages","js/ouroboros.frontend.ui.pages.dashboard","js/ouroboros.frontend.ui.pages.dashboard.DashboardPage","com.fulcrologic.fulcro.components/react-constructor","com.fulcrologic.fulcro.components/configure-component!","ouroboros.frontend.ui.pages.dashboard/DashboardPage","this","meta","error","com.fulcrologic.fulcro.data-fetch/marker-table","app","route-params","com.fulcrologic.fulcro.routing.dynamic-routing/route-deferred","com.fulcrologic.fulcro.data_fetch.load_BANG_","loading?","com.fulcrologic.fulcro.data-fetch/loading?","error-msg","cljs.core.get_in","cljs.core/vec","cljs.core.sequence","cljs.core/seq","cljs.core.concat","cljs.core/List","cljs.core.apply","cljs.core/array-map","com.fulcrologic.fulcro.components.transact_BANG_","G__41935","G__41955","cljs.core.pr_str"],"sourcesContent":["(ns ouroboros.frontend.ui.pages.dashboard\n  \"Dashboard overview page\"\n  (:require\n   [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n   [com.fulcrologic.fulcro.dom :as dom]\n   [com.fulcrologic.fulcro.routing.dynamic-routing :as dr]\n   [com.fulcrologic.fulcro.data-fetch :as df]\n   [com.fulcrologic.fulcro.mutations :as m]\n   [ouroboros.frontend.ui.components :as ui]))\n\n;; ============================================================================\n;; Error Handling Mutation\n;; ============================================================================\n\n(m/defmutation handle-load-error [{:keys [page-id error-message]}]\n  (action [{:keys [state]}]\n          (swap! state assoc-in [:page/error page-id] error-message)))\n\n(m/defmutation clear-page-error [{:keys [page-id]}]\n  (action [{:keys [state]}]\n          (swap! state update :page/error dissoc page-id)))\n\n;; ============================================================================\n;; Error UI Component\n;; ============================================================================\n\n(defn error-state [{:keys [message] :as props}]\n  (let [retry-fn (:on-retry props)]\n    (dom/div :.error-state\n             (dom/div :.error-state-icon \"\u26a0\ufe0f\")\n             (dom/div :.error-state-message message)\n             (when retry-fn\n               (ui/button\n                {:on-click retry-fn\n                 :variant :primary}\n                \"Try Again\")))))\n\n;; ============================================================================\n;; Loading Skeleton Components\n;; ============================================================================\n\n(defn metric-skeleton []\n  (dom/div :.metric-card\n           (dom/div :.metric-value\n                    (dom/div {:className \"skeleton-text\"\n                              :style {:width \"40px\" :height \"2.5rem\"}}))\n           (dom/div {:className \"skeleton-text\"\n                     :style {:width \"80px\" :margin \"0 auto\"}})))\n\n(defn card-skeleton [{:keys [title metric-count]}]\n  (ui/card {:title title}\n           (dom/div :.metrics-grid\n                    (map (fn [i]\n                           (dom/div {:key (str \"skeleton-\" i)}\n                                    (metric-skeleton)))\n                         (range metric-count)))))\n\n(defn dashboard-loading []\n  (dom/div\n   (dom/h1 \"Dashboard\")\n   (dom/div {:className \"metrics-grid mb-3\"}\n            ^{:key \"loading-system\"}\n            (card-skeleton {:title \"System Status\" :metric-count 2})\n            ^{:key \"loading-telemetry\"}\n            (card-skeleton {:title \"Telemetry\" :metric-count 3})\n            ^{:key \"loading-users\"}\n            (card-skeleton {:title \"Users\" :metric-count 2})\n            ^{:key \"loading-sessions\"}\n            (card-skeleton {:title \"Sessions\" :metric-count 1}))\n   (ui/card {:title \"System Info\"}\n            (dom/div :.skeleton-text {:style {:height \"60px\"}}))))\n\n;; ============================================================================\n;; Sub-components\n;; ============================================================================\n\n(defn system-health-card\n  \"System health status card\"\n  [{:keys [healthy? current-state]}]\n  (ui/card {:title \"System Status\"}\n           (dom/div :.metrics-grid\n                    (ui/metric-card\n                     {:value (if healthy? \"\u2713\" \"\u2717\")\n                      :label \"Healthy\"\n                      :className (if healthy? \"text-success\" \"text-error\")})\n                    (when current-state\n                      (ui/metric-card\n                       {:value (count (:state current-state))\n                        :label \"Active States\"})))))\n\n(defn telemetry-summary-card\n  \"Telemetry statistics summary\"\n  [{:keys [total-events tool-invocations errors]}]\n  (ui/card {:title \"Telemetry\"}\n           (dom/div :.metrics-grid\n                    (ui/metric-card\n                     {:value (or total-events 0)\n                      :label \"Total Events\"})\n                    (ui/metric-card\n                     {:value (or tool-invocations 0)\n                      :label \"Tool Invocations\"})\n                    (ui/metric-card\n                     {:value (or errors 0)\n                      :label \"Errors\"\n                      :className (when (> errors 0) \"text-warning\")}))))\n\n(defn users-summary-card\n  \"User statistics summary\"\n  [{:keys [user-count admin-count]}]\n  (ui/card {:title \"Users\"}\n           (dom/div :.metrics-grid\n                    (ui/metric-card\n                     {:value (or user-count 0)\n                      :label \"Total Users\"})\n                    (ui/metric-card\n                     {:value (or admin-count 0)\n                      :label \"Admins\"}))))\n\n(defn sessions-summary-card\n  \"Chat sessions summary\"\n  [{:keys [session-count]}]\n  (ui/card {:title \"Chat Sessions\"}\n           (dom/div :.metrics-grid\n                    (ui/metric-card\n                     {:value (or session-count 0)\n                      :label \"Active Sessions\"}))))\n\n;; ============================================================================\n;; Main Dashboard Page\n;; ============================================================================\n\n(defsc DashboardPage\n  [this {:keys [system/healthy?\n                system/current-state\n                system/meta\n                telemetry/total-events\n                telemetry/tool-invocations\n                telemetry/errors\n                auth/user-count\n                auth/admin-count\n                chat/session-count\n                page/error]\n         :as props}]\n  {:query         [:system/healthy?\n                   :system/current-state\n                   :system/meta\n                   :telemetry/total-events\n                   :telemetry/tool-invocations\n                   :telemetry/errors\n                   :auth/user-count\n                   :auth/admin-count\n                   :chat/session-count\n                   [df/marker-table :dashboard]\n                   :page/error]\n   :ident         (fn [] [:page/id :dashboard])\n   :route-segment [\"dashboard\"]\n   :will-enter    (fn [app route-params]\n                    (dr/route-deferred [:page/id :dashboard]\n                                       (fn []\n                                         (df/load! app [:page/id :dashboard] DashboardPage\n                                                   {:marker :dashboard\n                                                    :post-mutation `dr/target-ready\n                                                    :post-mutation-params {:target [:page/id :dashboard]}\n                                                    :fallback `handle-load-error\n                                                    :fallback-params {:page-id :dashboard\n                                                                      :error-message \"Failed to load dashboard data\"}}))))}\n\n  (let [loading? (df/loading? (get props [df/marker-table :dashboard]))\n        error-msg (get-in props [:page/error :dashboard])]\n    (cond\n      error-msg\n      (error-state\n       {:message error-msg\n        :on-retry #(do\n                     (comp/transact! this `[(clear-page-error {:page-id :dashboard})])\n                     (df/load! this [:page/id :dashboard] DashboardPage\n                               {:marker :dashboard\n                                :fallback `handle-load-error\n                                :fallback-params {:page-id :dashboard\n                                                  :error-message \"Failed to load dashboard data\"}}))})\n\n      loading?\n      (dashboard-loading)\n\n      :else\n      (dom/div\n       (dom/h1 \"Dashboard\")\n\n       (dom/div {:className \"metrics-grid mb-3\"}\n                ^{:key \"system-health\"}\n                (system-health-card\n                 {:healthy? healthy?\n                  :current-state current-state})\n\n                ^{:key \"telemetry\"}\n                (telemetry-summary-card\n                 {:total-events total-events\n                  :tool-invocations tool-invocations\n                  :errors errors})\n\n                ^{:key \"users\"}\n                (users-summary-card\n                 {:user-count user-count\n                  :admin-count admin-count})\n\n                ^{:key \"sessions\"}\n                (sessions-summary-card\n                 {:session-count session-count}))\n\n       (when meta\n         (ui/card {:title \"System Info\"}\n                  (dom/div :.code-block\n                           (pr-str meta))))))))\n"]}