{"version":3,"sources":["ouroboros/frontend/ui/pages/sessions.cljs"],"mappings":"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","names":["ouroboros.frontend.ui.pages.sessions/handle-load-error","com.fulcrologic.fulcro.mutations/->Mutation","com.fulcrologic.fulcro.mutations/mutate","fulcro-mutation-env-symbol","map__42156","cljs.core/--destructure-map","cljs.core.get","p__42157","map__42158","*after-render*-orig-val__42159","com.fulcrologic.fulcro.raw.components/*after-render*","*after-render*-temp-val__42160","env","*after-render*-orig-val__42161","*after-render*-temp-val__42162","temp__5825__auto__","com.fulcrologic.fulcro.algorithms.lookup/app-algorithm","default-action","page-id","error-message","state","cljs.core.swap_BANG_","cljs.core/assoc-in","ouroboros.frontend.ui.pages.sessions/clear-page-error","map__42163","p__42164","map__42165","*after-render*-orig-val__42166","*after-render*-temp-val__42167","*after-render*-orig-val__42168","*after-render*-temp-val__42169","cljs.core/update","cljs.core/dissoc","ouroboros.frontend.ui.pages.sessions/sessions-loading","com.fulcrologic.fulcro.dom.macro_create_element","a__38231__auto__","G__42170","cljs.core/map?","cljs.core.merge","com.fulcrologic.fulcro.dom/macro-create-element*","ouroboros.frontend.ui.components.card","com.fulcrologic.fulcro.components/force-children","cljs.core.repeat","options__36450__auto__","_","props","com.fulcrologic.fulcro.components/wrapped-render","map__42171","com.fulcrologic.fulcro.components/props","js/ouroboros","js/ouroboros.frontend","js/ouroboros.frontend.ui","js/ouroboros.frontend.ui.pages","js/ouroboros.frontend.ui.pages.sessions","js/ouroboros.frontend.ui.pages.sessions.ChatSession","com.fulcrologic.fulcro.components/react-constructor","com.fulcrologic.fulcro.components/configure-component!","ouroboros.frontend.ui.pages.sessions/ChatSession","this","id","message-count","created-at","platform","running?","p__42172","map__42173","map__42174","js/ouroboros.frontend.ui.pages.sessions.ChatAdapter","ouroboros.frontend.ui.pages.sessions/ChatAdapter","ouroboros.frontend.ui.pages.sessions/session-table","sessions","columns","rows","cljs.core.map","s","cljs.core/name","or__5002__auto__","ouroboros.frontend.ui.components/data-table","ouroboros.frontend.ui.pages.sessions/adapter-list","adapters","G__42175","adapter","ouroboros.frontend.ui.components/status-badge","p__42176","map__42177","map__42178","js/ouroboros.frontend.ui.pages.sessions.SessionsPage","ouroboros.frontend.ui.pages.sessions/SessionsPage","error","com.fulcrologic.fulcro.components.get_query","com.fulcrologic.fulcro.data-fetch/marker-table","app","route-params","com.fulcrologic.fulcro.routing.dynamic-routing/route-deferred","com.fulcrologic.fulcro.data_fetch.load_BANG_","loading?","com.fulcrologic.fulcro.data-fetch/loading?","error-msg","cljs.core.get_in","retry-handler","cljs.core/vec","cljs.core.sequence","cljs.core/seq","cljs.core.concat","cljs.core/List","cljs.core.apply","cljs.core/array-map","com.fulcrologic.fulcro.components.transact_BANG_","ouroboros.frontend.ui.components/error-state","G__42179","cljs.core/count","ouroboros.frontend.ui.components/empty-state"],"sourcesContent":["(ns ouroboros.frontend.ui.pages.sessions\n  \"Chat sessions page\"\n  (:require\n   [com.fulcrologic.fulcro.components :as comp :refer [defsc]]\n   [com.fulcrologic.fulcro.dom :as dom]\n   [com.fulcrologic.fulcro.routing.dynamic-routing :as dr]\n   [com.fulcrologic.fulcro.data-fetch :as df]\n   [com.fulcrologic.fulcro.mutations :as m]\n   [ouroboros.frontend.ui.components :as ui]))\n\n;; ============================================================================\n;; Error Handling Mutation\n;; ============================================================================\n\n(m/defmutation handle-load-error [{:keys [page-id error-message]}]\n  (action [{:keys [state]}]\n          (swap! state assoc-in [:page/error page-id] error-message)))\n\n(m/defmutation clear-page-error [{:keys [page-id]}]\n  (action [{:keys [state]}]\n          (swap! state update :page/error dissoc page-id)))\n\n;; ============================================================================\n;; Loading Skeleton\n;; ============================================================================\n\n(defn sessions-loading []\n  (dom/div\n   (dom/h1 \"Chat Sessions\")\n    ;; Sessions table skeleton\n   (ui/card {:title \"Active Sessions\"}\n            (dom/div {:className \"skeleton-table\"}\n        ;; Header\n                     (dom/div {:className \"skeleton-row\"\n                               :style {:display \"flex\"\n                                       :gap \"1rem\"\n                                       :padding \"0.75rem 0\"\n                                       :borderBottom \"2px solid var(--color-border)\"\n                                       :marginBottom \"0.5rem\"}}\n                              (dom/div {:className \"skeleton-text\" :style {:width \"200px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"100px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"80px\" :fontWeight \"bold\"}})\n                              (dom/div {:className \"skeleton-text\" :style {:width \"150px\" :fontWeight \"bold\"}}))\n        ;; Rows\n                     (repeat 3\n                             (dom/div {:className \"skeleton-row\"\n                                       :style {:display \"flex\"\n                                               :gap \"1rem\"\n                                               :padding \"0.75rem 0\"\n                                               :borderBottom \"1px solid var(--color-border)\"}}\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"200px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"100px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"80px\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"150px\"}})))))\n    ;; Adapters skeleton\n   (ui/card {:title \"Chat Adapters\"}\n            (dom/div {:className \"flex flex-col gap-2\"}\n                     (repeat 3\n                             (dom/div {:className \"flex items-center gap-2\"}\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"12px\" :height \"12px\" :borderRadius \"50%\"}})\n                                      (dom/div {:className \"skeleton-text\" :style {:width \"120px\"}})))))))\n\n;; ============================================================================\n;; Chat Entities\n;; ============================================================================\n\n(defsc ChatSession\n  [this {:keys [chat/id chat/message-count chat/created-at\n                chat/platform chat/running?]}]\n  {:query [:chat/id :chat/message-count :chat/created-at\n           :chat/platform :chat/running?]\n   :ident :chat/id}\n  (dom/div))\n\n(defsc ChatAdapter\n  [this {:keys [adapter/platform adapter/running?]}]\n  {:query [:adapter/platform :adapter/running?]\n   :ident (fn [] [:adapter/platform (:adapter/platform this)])}\n  (dom/div))\n\n;; ============================================================================\n;; Session Table\n;; ============================================================================\n\n(defn session-table\n  \"Table of chat sessions\"\n  [sessions]\n  (let [columns [{:key :id :label \"Session ID\"}\n                 {:key :platform :label \"Platform\"}\n                 {:key :message-count :label \"Messages\"}\n                 {:key :created-at :label \"Created\"}]\n        rows (map (fn [s]\n                    {:id (:chat/id s)\n                     :platform (name (or (:chat/platform s) :unknown))\n                     :message-count (:chat/message-count s)\n                     :created-at (:chat/created-at s)})\n                  sessions)]\n    (ui/data-table\n     {:columns columns\n      :rows rows\n      :empty-message \"No active chat sessions\"})))\n\n;; ============================================================================\n;; Adapters List\n;; ============================================================================\n\n(defn adapter-list\n  \"List of chat adapters\"\n  [adapters]\n  (dom/div\n   (map (fn [adapter]\n          (dom/div {:key (str (:adapter/platform adapter))\n                    :className \"flex items-center gap-2 mb-2\"}\n                   (ui/status-badge\n                    {:ok? (:adapter/running? adapter)\n                     :text (str (name (:adapter/platform adapter))\n                                \" \"\n                                (if (:adapter/running? adapter) \"Running\" \"Stopped\"))})))\n        adapters)))\n\n;; ============================================================================\n;; Main Sessions Page\n;; ============================================================================\n\n(defsc SessionsPage\n  [this {:keys [chat/sessions chat/adapters\n                page/error]\n         :as props}]\n  {:query [{:chat/sessions (comp/get-query ChatSession)}\n           {:chat/adapters (comp/get-query ChatAdapter)}\n           [df/marker-table :sessions]\n           :page/error]\n   :ident (fn [] [:page/id :sessions])\n   :route-segment [\"sessions\"]\n   :will-enter (fn [app route-params]\n                 (dr/route-deferred [:page/id :sessions]\n                                    (fn []\n                                      (df/load! app [:page/id :sessions] SessionsPage\n                                                {:marker :sessions\n                                                 :post-mutation `dr/target-ready\n                                                 :post-mutation-params {:target [:page/id :sessions]}\n                                                 :fallback `handle-load-error\n                                                 :fallback-params {:page-id :sessions\n                                                                   :error-message \"Failed to load sessions data\"}}))))}\n\n  (let [loading? (df/loading? (get props [df/marker-table :sessions]))\n        error-msg (get-in props [:page/error :sessions])]\n    (cond\n      error-msg\n      (let [retry-handler #(do\n                        (comp/transact! this `[(clear-page-error {:page-id :sessions})])\n                        (df/load! this [:page/id :sessions] SessionsPage\n                                  {:marker :sessions\n                                   :fallback `handle-load-error\n                                   :fallback-params {:page-id :sessions\n                                                     :error-message \"Failed to load sessions data\"}}))]\n        (ui/error-state\n         {:message error-msg\n          :on-retry retry-handler}))\n\n      loading?\n      (sessions-loading)\n\n      :else\n      (dom/div\n       (dom/h1 \"Chat Sessions\")\n\n        ;; Active Sessions\n       (ui/card {:title (str \"Active Sessions (\" (count sessions) \")\")}\n                (if (seq sessions)\n                  (session-table sessions)\n                  (ui/empty-state\n                   {:icon \"Chat\"\n                    :message \"No active chat sessions\"})))\n\n        ;; Adapters\n       (when (seq adapters)\n         (ui/card {:title \"Chat Adapters\"}\n                  (adapter-list adapters)))))))\n"]}